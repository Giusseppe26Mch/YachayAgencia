∏t
DC:\Users\51963\source\repos\YachayAgencia\CapaDatos\CD_BolsaViaje.cs
	namespace

 	
	CapaDatos


 
{ 
public 

class 
CD_BolsaViaje 
{ 
public 
bool 
ExisteSolicitud #
(# $
int$ '
	idcliente( 1
,1 2
int3 6
	idreserva7 @
)@ A
{ 	
bool 
	resultado 
= 
true !
;! "
try 
{ 
using 
( 
SqlConnection $
	oconexion% .
=/ 0
new1 4
SqlConnection5 B
(B C
ConexionC K
.K L
cnL N
)N O
)O P
{ 

SqlCommand 
cmd "
=# $
new% (

SqlCommand) 3
(3 4
$str4 H
,H I
	oconexionJ S
)S T
;T U
cmd 
. 

Parameters "
." #
AddWithValue# /
(/ 0
$str0 ;
,; <
	idcliente= F
)F G
;G H
cmd 
. 

Parameters "
." #
AddWithValue# /
(/ 0
$str0 ;
,; <
	idreserva= F
)F G
;G H
cmd 
. 

Parameters "
." #
Add# &
(& '
$str' 2
,2 3
	SqlDbType4 =
.= >
Bit> A
)A B
.B C
	DirectionC L
=M N
ParameterDirectionO a
.a b
Outputb h
;h i
cmd 
. 
CommandType #
=$ %
CommandType& 1
.1 2
StoredProcedure2 A
;A B
	oconexion 
. 
Open "
(" #
)# $
;$ %
cmd 
. 
ExecuteNonQuery '
(' (
)( )
;) *
	resultado   
=   
Convert    '
.  ' (
	ToBoolean  ( 1
(  1 2
cmd  2 5
.  5 6

Parameters  6 @
[  @ A
$str  A L
]  L M
.  M N
Value  N S
)  S T
;  T U
}"" 
}## 
catch$$ 
($$ 
	Exception$$ 
)$$ 
{%% 
	resultado&& 
=&& 
false&& !
;&&! "
}'' 
return(( 
	resultado(( 
;(( 
})) 	
public** 
bool** 
OperacionBolsaviaje** '
(**' (
int**( +
	idcliente**, 5
,**5 6
int**7 :
	idreserva**; D
,**D E
bool**F J
sumar**K P
,**P Q
out**R U
string**V \
Mensaje**] d
)**d e
{++ 	
bool,, 
	resultado,, 
=,, 
true,, !
;,,! "
Mensaje-- 
=-- 
string-- 
.-- 
Empty-- "
;--" #
try.. 
{// 
using00 
(00 
SqlConnection00 $
	oconexion00% .
=00/ 0
new001 4
SqlConnection005 B
(00B C
Conexion00C K
.00K L
cn00L N
)00N O
)00O P
{11 

SqlCommand33 
cmd33 "
=33# $
new33% (

SqlCommand33) 3
(333 4
$str334 D
,33D E
	oconexion33F O
)33O P
;33P Q
cmd44 
.44 

Parameters44 "
.44" #
AddWithValue44# /
(44/ 0
$str440 ;
,44; <
	idcliente44= F
)44F G
;44G H
cmd55 
.55 

Parameters55 "
.55" #
AddWithValue55# /
(55/ 0
$str550 ;
,55; <
	idreserva55= F
)55F G
;55G H
cmd66 
.66 

Parameters66 "
.66" #
AddWithValue66# /
(66/ 0
$str660 7
,667 8
sumar669 >
)66> ?
;66? @
cmd77 
.77 

Parameters77 "
.77" #
Add77# &
(77& '
$str77' 2
,772 3
	SqlDbType774 =
.77= >
Bit77> A
)77A B
.77B C
	Direction77C L
=77M N
ParameterDirection77O a
.77a b
Output77b h
;77h i
cmd88 
.88 

Parameters88 "
.88" #
Add88# &
(88& '
$str88' 0
,880 1
	SqlDbType882 ;
.88; <
VarChar88< C
,88C D
$num88E H
)88H I
.88I J
	Direction88J S
=88T U
ParameterDirection88V h
.88h i
Output88i o
;88o p
cmd99 
.99 
CommandType99 #
=99$ %
CommandType99& 1
.991 2
StoredProcedure992 A
;99A B
	oconexion;; 
.;; 
Open;; "
(;;" #
);;# $
;;;$ %
cmd== 
.== 
ExecuteNonQuery== '
(==' (
)==( )
;==) *
	resultado>> 
=>> 
Convert>>  '
.>>' (
	ToBoolean>>( 1
(>>1 2
cmd>>2 5
.>>5 6

Parameters>>6 @
[>>@ A
$str>>A L
]>>L M
.>>M N
Value>>N S
)>>S T
;>>T U
Mensaje?? 
=?? 
cmd?? !
.??! "

Parameters??" ,
[??, -
$str??- 6
]??6 7
.??7 8
Value??8 =
.??= >
ToString??> F
(??F G
)??G H
;??H I
}BB 
}CC 
catchDD 
(DD 
	ExceptionDD 
exDD 
)DD  
{EE 
	resultadoFF 
=FF 
falseFF !
;FF! "
MensajeGG 
=GG 
exGG 
.GG 
MessageGG $
;GG$ %
}HH 
returnII 
	resultadoII 
;II 
}JJ 	
publicOO 
intOO 
CantidadEnBolsaOO "
(OO" #
intOO# &
	idclienteOO' 0
)OO0 1
{PP 	
intQQ 
	resultadoQQ 
=QQ 
$numQQ 
;QQ 
tryRR 
{SS 
usingTT 
(TT 
SqlConnectionTT $
	oconexionTT% .
=TT/ 0
newTT1 4
SqlConnectionTT5 B
(TTB C
ConexionTTC K
.TTK L
cnTTL N
)TTN O
)TTO P
{UU 

SqlCommandVV 
cmdVV "
=VV# $
newVV% (

SqlCommandVV) 3
(VV3 4
$strVV4 t
,VVt u
	oconexionVVv 
)	VV Ä
;
VVÄ Å
cmdWW 
.WW 

ParametersWW "
.WW" #
AddWithValueWW# /
(WW/ 0
$strWW0 <
,WW< =
	idclienteWW> G
)WWG H
;WWH I
cmdXX 
.XX 
CommandTypeXX #
=XX$ %
CommandTypeXX& 1
.XX1 2
TextXX2 6
;XX6 7
	oconexionYY 
.YY 
OpenYY "
(YY" #
)YY# $
;YY$ %
	resultadoZZ 
=ZZ 
ConvertZZ  '
.ZZ' (
ToInt32ZZ( /
(ZZ/ 0
cmdZZ0 3
.ZZ3 4
ExecuteScalarZZ4 A
(ZZA B
)ZZB C
)ZZC D
;ZZD E
}[[ 
}\\ 
catch]] 
(]] 
	Exception]] 
)]] 
{^^ 
	resultado__ 
=__ 
$num__ 
;__ 
}aa 
returnbb 
	resultadobb 
;bb 
}cc 	
publicdd 
Listdd 
<dd 
Bolsadeviajedd  
>dd  !
ListarReservadd" /
(dd/ 0
intdd0 3
	idclientedd4 =
)dd= >
{ee 	
Listff 
<ff 
Bolsadeviajeff 
>ff 
listaff $
=ff% &
newff' *
Listff+ /
<ff/ 0
Bolsadeviajeff0 <
>ff< =
(ff= >
)ff> ?
;ff? @
tryhh 
{ii 
usingjj 
(jj 
SqlConnectionjj $
	oconexionjj% .
=jj/ 0
newjj1 4
SqlConnectionjj5 B
(jjB C
ConexionjjC K
.jjK L
cnjjL N
)jjN O
)jjO P
{kk 
stringll 
queryll  
=ll! "
$strll# V
;llV W

SqlCommandoo 
cmdoo "
=oo# $
newoo% (

SqlCommandoo) 3
(oo3 4
queryoo4 9
,oo9 :
	oconexionoo; D
)ooD E
;ooE F
cmdpp 
.pp 

Parameterspp "
.pp" #
AddWithValuepp# /
(pp/ 0
$strpp0 <
,pp< =
	idclientepp> G
)ppG H
;ppH I
cmdqq 
.qq 
CommandTypeqq #
=qq$ %
CommandTypeqq& 1
.qq1 2
Textqq2 6
;qq6 7
	oconexionrr 
.rr 
Openrr "
(rr" #
)rr# $
;rr$ %
usingtt 
(tt 
SqlDataReadertt (
drtt) +
=tt, -
cmdtt. 1
.tt1 2
ExecuteReadertt2 ?
(tt? @
)tt@ A
)ttA B
{uu 
whilevv 
(vv 
drvv !
.vv! "
Readvv" &
(vv& '
)vv' (
)vv( )
{ww 
listaxx !
.xx! "
Addxx" %
(xx% &
newxx& )
Bolsadeviajexx* 6
(xx6 7
)xx7 8
{yy 
oReservazz  (
=zz) *
newzz+ .
Reservazz/ 6
(zz6 7
)zz7 8
{{{  !
	IdReserva||$ -
=||. /
Convert||0 7
.||7 8
ToInt32||8 ?
(||? @
dr||@ B
[||B C
$str||C N
]||N O
)||O P
,||P Q
Nombre}}$ *
=}}+ ,
dr}}- /
[}}/ 0
$str}}0 8
]}}8 9
.}}9 :
ToString}}: B
(}}B C
)}}C D
,}}D E
Precio~~$ *
=~~+ ,
Convert~~- 4
.~~4 5
	ToDecimal~~5 >
(~~> ?
dr~~? A
[~~A B
$str~~B J
]~~J K
,~~K L
new~~M P
CultureInfo~~Q \
(~~\ ]
$str~~] d
)~~d e
)~~e f
,~~f g

RutaImagen$ .
=/ 0
dr1 3
[3 4
$str4 @
]@ A
.A B
ToStringB J
(J K
)K L
,L M
NombreImagen
ÄÄ$ 0
=
ÄÄ1 2
dr
ÄÄ3 5
[
ÄÄ5 6
$str
ÄÄ6 D
]
ÄÄD E
.
ÄÄE F
ToString
ÄÄF N
(
ÄÄN O
)
ÄÄO P
,
ÄÄP Q
oPaquete
ÅÅ$ ,
=
ÅÅ- .
new
ÅÅ/ 2
PaqueteTuristico
ÅÅ3 C
(
ÅÅC D
)
ÅÅD E
{
ÅÅF G
Descripcion
ÅÅH S
=
ÅÅT U
dr
ÅÅV X
[
ÅÅX Y
$str
ÅÅY e
]
ÅÅe f
.
ÅÅf g
ToString
ÅÅg o
(
ÅÅo p
)
ÅÅp q
}
ÅÅr s
}
ÉÉ  !
,
ÉÉ! "
Cantidad
ÑÑ  (
=
ÑÑ) *
Convert
ÑÑ+ 2
.
ÑÑ2 3
ToInt32
ÑÑ3 :
(
ÑÑ: ;
dr
ÑÑ; =
[
ÑÑ= >
$str
ÑÑ> H
]
ÑÑH I
)
ÑÑI J
}
ÖÖ 
)
ÖÖ 
;
ÖÖ 
}
ÜÜ 
}
áá 
}
àà 
}
ââ 
catch
ää 
{
ãã 
lista
åå 
=
åå 
new
åå 
List
åå  
<
åå  !
Bolsadeviaje
åå! -
>
åå- .
(
åå. /
)
åå/ 0
;
åå0 1
}
çç 
return
èè 
lista
èè 
;
èè 
}
êê 	
public
íí 
bool
íí 
Eliminarviaje
íí !
(
íí! "
int
íí" %
	idcliente
íí& /
,
íí/ 0
int
íí1 4
	idreserva
íí5 >
)
íí> ?
{
ìì 	
bool
îî 
	resultado
îî 
=
îî 
true
îî !
;
îî! "
try
ññ 
{
óó 
using
òò 
(
òò 
SqlConnection
òò $
	oconexion
òò% .
=
òò/ 0
new
òò1 4
SqlConnection
òò5 B
(
òòB C
Conexion
òòC K
.
òòK L
cn
òòL N
)
òòN O
)
òòO P
{
ôô 

SqlCommand
õõ 
cmd
õõ "
=
õõ# $
new
õõ% (

SqlCommand
õõ) 3
(
õõ3 4
$str
õõ4 F
,
õõF G
	oconexion
õõH Q
)
õõQ R
;
õõR S
cmd
úú 
.
úú 

Parameters
úú "
.
úú" #
AddWithValue
úú# /
(
úú/ 0
$str
úú0 ;
,
úú; <
	idcliente
úú= F
)
úúF G
;
úúG H
cmd
ùù 
.
ùù 

Parameters
ùù "
.
ùù" #
AddWithValue
ùù# /
(
ùù/ 0
$str
ùù0 ;
,
ùù; <
	idreserva
ùù= F
)
ùùF G
;
ùùG H
cmd
ûû 
.
ûû 

Parameters
ûû "
.
ûû" #
Add
ûû# &
(
ûû& '
$str
ûû' 2
,
ûû2 3
	SqlDbType
ûû4 =
.
ûû= >
Bit
ûû> A
)
ûûA B
.
ûûB C
	Direction
ûûC L
=
ûûM N 
ParameterDirection
ûûO a
.
ûûa b
Output
ûûb h
;
ûûh i
cmd
üü 
.
üü 
CommandType
üü #
=
üü$ %
CommandType
üü& 1
.
üü1 2
StoredProcedure
üü2 A
;
üüA B
	oconexion
°° 
.
°° 
Open
°° "
(
°°" #
)
°°# $
;
°°$ %
cmd
££ 
.
££ 
ExecuteNonQuery
££ '
(
££' (
)
££( )
;
££) *
	resultado
§§ 
=
§§ 
Convert
§§  '
.
§§' (
	ToBoolean
§§( 1
(
§§1 2
cmd
§§2 5
.
§§5 6

Parameters
§§6 @
[
§§@ A
$str
§§A L
]
§§L M
.
§§M N
Value
§§N S
)
§§S T
;
§§T U
}
¶¶ 
}
ßß 
catch
®® 
(
®® 
	Exception
®® 
)
®® 
{
©© 
	resultado
™™ 
=
™™ 
false
™™ !
;
™™! "
}
´´ 
return
¨¨ 
	resultado
¨¨ 
;
¨¨ 
}
≠≠ 	
}
±± 
}≤≤ Âg
CC:\Users\51963\source\repos\YachayAgencia\CapaDatos\CD_Categoria.cs
	namespace		 	
	CapaDatos		
 
{

 
public 

class 
CD_Categoria 
{ 
public 
List 
< 
	Categoria 
> 
Listar %
(% &
)& '
{ 	
List 
< 
	Categoria 
> 
lista !
=" #
new$ '
List( ,
<, -
	Categoria- 6
>6 7
(7 8
)8 9
;9 :
try 
{ 
using 
( 
SqlConnection $
	oconexion% .
=/ 0
new1 4
SqlConnection5 B
(B C
ConexionC K
.K L
cnL N
)N O
)O P
{ 
string 
query  
=! "
$str# \
;\ ]

SqlCommand 
cmd "
=# $
new% (

SqlCommand) 3
(3 4
query4 9
,9 :
	oconexion; D
)D E
;E F
cmd 
. 
CommandType #
=$ %
CommandType& 1
.1 2
Text2 6
;6 7
	oconexion 
. 
Open "
(" #
)# $
;$ %
using 
( 
SqlDataReader (
dr) +
=, -
cmd. 1
.1 2
ExecuteReader2 ?
(? @
)@ A
)A B
{ 
while 
( 
dr !
.! "
Read" &
(& '
)' (
)( )
{ 
lista !
.! "
Add" %
(% &
new! $
	Categoria% .
(. /
)/ 0
{  ! "
IdCategoria!!% 0
=!!1 2
Convert!!3 :
.!!: ;
ToInt32!!; B
(!!B C
dr!!C E
[!!E F
$str!!F S
]!!S T
)!!T U
,!!U V
Descripcion""% 0
=""1 2
dr""3 5
[""5 6
$str""6 C
]""C D
.""D E
ToString""E M
(""M N
)""N O
,""O P
Activo##% +
=##, -
Convert##. 5
.##5 6
	ToBoolean##6 ?
(##? @
dr##@ B
[##B C
$str##C K
]##K L
)##L M
}$$! "
)$$" #
;$$# $
}%% 
}(( 
})) 
},, 
catch-- 
{.. 
lista// 
=// 
new// 
List//  
<//  !
	Categoria//! *
>//* +
(//+ ,
)//, -
;//- .
}00 
return22 
lista22 
;22 
}33 	
public44 
int44 
	Registrar44 
(44 
	Categoria44 &
obj44' *
,44* +
out44, /
string440 6
Mensaje447 >
)44> ?
{55 	
int66 
idautogenerado66 
=66  
$num66! "
;66" #
Mensaje77 
=77 
string77 
.77 
Empty77 "
;77" #
try88 
{99 
using:: 
(:: 
SqlConnection:: $
	oconexion::% .
=::/ 0
new::1 4
SqlConnection::5 B
(::B C
Conexion::C K
.::K L
cn::L N
)::N O
)::O P
{;; 

SqlCommand== 
cmd== "
===# $
new==% (

SqlCommand==) 3
(==3 4
$str==4 K
,==K L
	oconexion==M V
)==V W
;==W X
cmd>> 
.>> 

Parameters>> "
.>>" #
AddWithValue>># /
(>>/ 0
$str>>0 =
,>>= >
obj>>? B
.>>B C
Descripcion>>C N
)>>N O
;>>O P
cmd?? 
.?? 

Parameters?? "
.??" #
AddWithValue??# /
(??/ 0
$str??0 8
,??8 9
obj??: =
.??= >
Activo??> D
)??D E
;??E F
cmd@@ 
.@@ 

Parameters@@ "
.@@" #
Add@@# &
(@@& '
$str@@' 2
,@@2 3
	SqlDbType@@4 =
.@@= >
Int@@> A
)@@A B
.@@B C
	Direction@@C L
=@@M N
ParameterDirection@@O a
.@@a b
Output@@b h
;@@h i
cmdAA 
.AA 

ParametersAA "
.AA" #
AddAA# &
(AA& '
$strAA' 0
,AA0 1
	SqlDbTypeAA2 ;
.AA; <
VarCharAA< C
,AAC D
$numAAE H
)AAH I
.AAI J
	DirectionAAJ S
=AAT U
ParameterDirectionAAV h
.AAh i
OutputAAi o
;AAo p
cmdBB 
.BB 
CommandTypeBB #
=BB$ %
CommandTypeBB& 1
.BB1 2
StoredProcedureBB2 A
;BBA B
	oconexionDD 
.DD 
OpenDD "
(DD" #
)DD# $
;DD$ %
cmdFF 
.FF 
ExecuteNonQueryFF '
(FF' (
)FF( )
;FF) *
idautogeneradoGG "
=GG# $
ConvertGG% ,
.GG, -
ToInt32GG- 4
(GG4 5
cmdGG5 8
.GG8 9

ParametersGG9 C
[GGC D
$strGGD O
]GGO P
.GGP Q
ValueGGQ V
)GGV W
;GGW X
MensajeHH 
=HH 
cmdHH !
.HH! "

ParametersHH" ,
[HH, -
$strHH- 6
]HH6 7
.HH7 8
ValueHH8 =
.HH= >
ToStringHH> F
(HHF G
)HHG H
;HHH I
}KK 
}LL 
catchMM 
(MM 
	ExceptionMM 
exMM 
)MM  
{NN 
idautogeneradoOO 
=OO  
$numOO! "
;OO" #
MensajePP 
=PP 
exPP 
.PP 
MessagePP $
;PP$ %
}QQ 
returnRR 
idautogeneradoRR !
;RR! "
}SS 	
publicUU 
boolUU 
EditarUU 
(UU 
	CategoriaUU $
objUU% (
,UU( )
outUU* -
stringUU. 4
MensajeUU5 <
)UU< =
{VV 	
boolWW 
	resultadoWW 
=WW 
falseWW "
;WW" #
MensajeXX 
=XX 
stringXX 
.XX 
EmptyXX "
;XX" #
tryYY 
{ZZ 
using[[ 
([[ 
SqlConnection[[ $
	oconexion[[% .
=[[/ 0
new[[1 4
SqlConnection[[5 B
([[B C
Conexion[[C K
.[[K L
cn[[L N
)[[N O
)[[O P
{\\ 

SqlCommand^^ 
cmd^^ "
=^^# $
new^^% (

SqlCommand^^) 3
(^^3 4
$str^^4 H
,^^H I
	oconexion^^J S
)^^S T
;^^T U
cmd__ 
.__ 

Parameters__ "
.__" #
AddWithValue__# /
(__/ 0
$str__0 =
,__= >
obj__? B
.__B C
IdCategoria__C N
)__N O
;__O P
cmd`` 
.`` 

Parameters`` "
.``" #
AddWithValue``# /
(``/ 0
$str``0 =
,``= >
obj``? B
.``B C
Descripcion``C N
)``N O
;``O P
cmdaa 
.aa 

Parametersaa "
.aa" #
AddWithValueaa# /
(aa/ 0
$straa0 8
,aa8 9
objaa: =
.aa= >
Activoaa> D
)aaD E
;aaE F
cmdbb 
.bb 

Parametersbb "
.bb" #
Addbb# &
(bb& '
$strbb' 2
,bb2 3
	SqlDbTypebb4 =
.bb= >
Bitbb> A
)bbA B
.bbB C
	DirectionbbC L
=bbM N
ParameterDirectionbbO a
.bba b
Outputbbb h
;bbh i
cmdcc 
.cc 

Parameterscc "
.cc" #
Addcc# &
(cc& '
$strcc' 0
,cc0 1
	SqlDbTypecc2 ;
.cc; <
VarCharcc< C
,ccC D
$numccE H
)ccH I
.ccI J
	DirectionccJ S
=ccT U
ParameterDirectionccV h
.cch i
Outputcci o
;cco p
cmddd 
.dd 
CommandTypedd #
=dd$ %
CommandTypedd& 1
.dd1 2
StoredProceduredd2 A
;ddA B
	oconexionff 
.ff 
Openff "
(ff" #
)ff# $
;ff$ %
cmdhh 
.hh 
ExecuteNonQueryhh '
(hh' (
)hh( )
;hh) *
	resultadoii 
=ii 
Convertii  '
.ii' (
	ToBooleanii( 1
(ii1 2
cmdii2 5
.ii5 6

Parametersii6 @
[ii@ A
$striiA L
]iiL M
.iiM N
ValueiiN S
)iiS T
;iiT U
Mensajejj 
=jj 
cmdjj !
.jj! "

Parametersjj" ,
[jj, -
$strjj- 6
]jj6 7
.jj7 8
Valuejj8 =
.jj= >
ToStringjj> F
(jjF G
)jjG H
;jjH I
}mm 
}nn 
catchoo 
(oo 
	Exceptionoo 
exoo 
)oo  
{pp 
	resultadoqq 
=qq 
falseqq !
;qq! "
Mensajerr 
=rr 
exrr 
.rr 
Messagerr $
;rr$ %
}ss 
returntt 
	resultadott 
;tt 
}uu 	
publicww 
boolww 
Eliminarww 
(ww 
intww  
idww! #
,ww# $
outww% (
stringww) /
Mensajeww0 7
)ww7 8
{xx 	
boolyy 
	resultadoyy 
=yy 
falseyy "
;yy" #
Mensajezz 
=zz 
stringzz 
.zz 
Emptyzz "
;zz" #
try{{ 
{|| 
using}} 
(}} 
SqlConnection}} $
	oconexion}}% .
=}}/ 0
new}}1 4
SqlConnection}}5 B
(}}B C
Conexion}}C K
.}}K L
cn}}L N
)}}N O
)}}O P
{~~ 

SqlCommand
ÄÄ 
cmd
ÄÄ "
=
ÄÄ# $
new
ÄÄ% (

SqlCommand
ÄÄ) 3
(
ÄÄ3 4
$str
ÄÄ4 J
,
ÄÄJ K
	oconexion
ÄÄL U
)
ÄÄU V
;
ÄÄV W
cmd
ÅÅ 
.
ÅÅ 

Parameters
ÅÅ "
.
ÅÅ" #
AddWithValue
ÅÅ# /
(
ÅÅ/ 0
$str
ÅÅ0 =
,
ÅÅ= >
id
ÅÅ? A
)
ÅÅA B
;
ÅÅB C
cmd
ÇÇ 
.
ÇÇ 

Parameters
ÇÇ "
.
ÇÇ" #
Add
ÇÇ# &
(
ÇÇ& '
$str
ÇÇ' 2
,
ÇÇ2 3
	SqlDbType
ÇÇ4 =
.
ÇÇ= >
Bit
ÇÇ> A
)
ÇÇA B
.
ÇÇB C
	Direction
ÇÇC L
=
ÇÇM N 
ParameterDirection
ÇÇO a
.
ÇÇa b
Output
ÇÇb h
;
ÇÇh i
cmd
ÉÉ 
.
ÉÉ 

Parameters
ÉÉ "
.
ÉÉ" #
Add
ÉÉ# &
(
ÉÉ& '
$str
ÉÉ' 0
,
ÉÉ0 1
	SqlDbType
ÉÉ2 ;
.
ÉÉ; <
VarChar
ÉÉ< C
,
ÉÉC D
$num
ÉÉE H
)
ÉÉH I
.
ÉÉI J
	Direction
ÉÉJ S
=
ÉÉT U 
ParameterDirection
ÉÉV h
.
ÉÉh i
Output
ÉÉi o
;
ÉÉo p
cmd
ÑÑ 
.
ÑÑ 
CommandType
ÑÑ #
=
ÑÑ$ %
CommandType
ÑÑ& 1
.
ÑÑ1 2
StoredProcedure
ÑÑ2 A
;
ÑÑA B
	oconexion
ÜÜ 
.
ÜÜ 
Open
ÜÜ "
(
ÜÜ" #
)
ÜÜ# $
;
ÜÜ$ %
cmd
àà 
.
àà 
ExecuteNonQuery
àà '
(
àà' (
)
àà( )
;
àà) *
	resultado
ââ 
=
ââ 
Convert
ââ  '
.
ââ' (
	ToBoolean
ââ( 1
(
ââ1 2
cmd
ââ2 5
.
ââ5 6

Parameters
ââ6 @
[
ââ@ A
$str
ââA L
]
ââL M
.
ââM N
Value
ââN S
)
ââS T
;
ââT U
Mensaje
ää 
=
ää 
cmd
ää !
.
ää! "

Parameters
ää" ,
[
ää, -
$str
ää- 6
]
ää6 7
.
ää7 8
Value
ää8 =
.
ää= >
ToString
ää> F
(
ääF G
)
ääG H
;
ääH I
}
çç 
}
éé 
catch
èè 
(
èè 
	Exception
èè 
ex
èè 
)
èè  
{
êê 
	resultado
ëë 
=
ëë 
false
ëë !
;
ëë! "
Mensaje
íí 
=
íí 
ex
íí 
.
íí 
Message
íí $
;
íí$ %
}
ìì 
return
îî 
	resultado
îî 
;
îî 
}
ïï 	
}
ññ 
}óó ù]
AC:\Users\51963\source\repos\YachayAgencia\CapaDatos\CD_Cliente.cs
	namespace 	
	CapaDatos
 
{		 
public

 

class

 

CD_Cliente

 
{ 
public 
int 
	Registrar 
( 
Cliente $
obj% (
,( )
out* -
string. 4
Mensaje5 <
)< =
{ 	
int 
idautogenerado 
=  
$num! "
;" #
Mensaje 
= 
string 
. 
Empty "
;" #
try 
{ 
using 
( 
SqlConnection $
	oconexion% .
=/ 0
new1 4
SqlConnection5 B
(B C
ConexionC K
.K L
cnL N
)N O
)O P
{ 

SqlCommand 
cmd "
=# $
new% (

SqlCommand) 3
(3 4
$str4 I
,I J
	oconexionK T
)T U
;U V
cmd 
. 

Parameters "
." #
AddWithValue# /
(/ 0
$str0 9
,9 :
obj; >
.> ?
Nombres? F
)F G
;G H
cmd 
. 

Parameters "
." #
AddWithValue# /
(/ 0
$str0 ;
,; <
obj= @
.@ A
	ApellidosA J
)J K
;K L
cmd 
. 

Parameters "
." #
AddWithValue# /
(/ 0
$str0 8
,8 9
obj: =
.= >
Correo> D
)D E
;E F
cmd 
. 

Parameters "
." #
AddWithValue# /
(/ 0
$str0 7
,7 8
obj9 <
.< =
Clave= B
)B C
;C D
cmd 
. 

Parameters "
." #
Add# &
(& '
$str' 2
,2 3
	SqlDbType4 =
.= >
Int> A
)A B
.B C
	DirectionC L
=M N
ParameterDirectionO a
.a b
Outputb h
;h i
cmd 
. 

Parameters "
." #
Add# &
(& '
$str' 0
,0 1
	SqlDbType2 ;
.; <
VarChar< C
,C D
$numE H
)H I
.I J
	DirectionJ S
=T U
ParameterDirectionV h
.h i
Outputi o
;o p
cmd 
. 
CommandType #
=$ %
CommandType& 1
.1 2
StoredProcedure2 A
;A B
	oconexion 
. 
Open "
(" #
)# $
;$ %
cmd   
.   
ExecuteNonQuery   '
(  ' (
)  ( )
;  ) *
idautogenerado!! "
=!!# $
Convert!!% ,
.!!, -
ToInt32!!- 4
(!!4 5
cmd!!5 8
.!!8 9

Parameters!!9 C
[!!C D
$str!!D O
]!!O P
.!!P Q
Value!!Q V
)!!V W
;!!W X
Mensaje"" 
="" 
cmd"" !
.""! "

Parameters""" ,
["", -
$str""- 6
]""6 7
.""7 8
Value""8 =
.""= >
ToString""> F
(""F G
)""G H
;""H I
}%% 
}&& 
catch'' 
('' 
	Exception'' 
ex'' 
)''  
{(( 
idautogenerado)) 
=))  
$num))! "
;))" #
Mensaje** 
=** 
ex** 
.** 
Message** $
;**$ %
}++ 
return,, 
idautogenerado,, !
;,,! "
}-- 	
public.. 
List.. 
<.. 
Cliente.. 
>.. 
Listar.. #
(..# $
)..$ %
{// 	
List00 
<00 
Cliente00 
>00 
lista00 
=00  !
new00" %
List00& *
<00* +
Cliente00+ 2
>002 3
(003 4
)004 5
;005 6
try22 
{33 
using44 
(44 
SqlConnection44 $
	oconexion44% .
=44/ 0
new441 4
SqlConnection445 B
(44B C
Conexion44C K
.44K L
cn44L N
)44N O
)44O P
{55 
string66 
query66  
=66! "
$str66# r
;66r s

SqlCommand77 
cmd77 "
=77# $
new77% (

SqlCommand77) 3
(773 4
query774 9
,779 :
	oconexion77; D
)77D E
;77E F
cmd88 
.88 
CommandType88 #
=88$ %
CommandType88& 1
.881 2
Text882 6
;886 7
	oconexion99 
.99 
Open99 "
(99" #
)99# $
;99$ %
using;; 
(;; 
SqlDataReader;; (
dr;;) +
=;;, -
cmd;;. 1
.;;1 2
ExecuteReader;;2 ?
(;;? @
);;@ A
);;A B
{<< 
while== 
(== 
dr== !
.==! "
Read==" &
(==& '
)==' (
)==( )
{>> 
lista?? !
.??! "
Add??" %
(??% &
new@@! $
Cliente@@% ,
(@@, -
)@@- .
{AA! "
	IdClienteBB% .
=BB/ 0
ConvertBB1 8
.BB8 9
ToInt32BB9 @
(BB@ A
drBBA C
[BBC D
$strBBD O
]BBO P
)BBP Q
,BBQ R
NombresCC% ,
=CC- .
drCC/ 1
[CC1 2
$strCC2 ;
]CC; <
.CC< =
ToStringCC= E
(CCE F
)CCF G
,CCG H
	ApellidosDD% .
=DD/ 0
drDD1 3
[DD3 4
$strDD4 ?
]DD? @
.DD@ A
ToStringDDA I
(DDI J
)DDJ K
,DDK L
CorreoEE% +
=EE, -
drEE. 0
[EE0 1
$strEE1 9
]EE9 :
.EE: ;
ToStringEE; C
(EEC D
)EED E
,EEE F
ClaveFF% *
=FF+ ,
drFF- /
[FF/ 0
$strFF0 7
]FF7 8
.FF8 9
ToStringFF9 A
(FFA B
)FFB C
,FFC D
ReestablecerGG% 1
=GG2 3
ConvertGG4 ;
.GG; <
	ToBooleanGG< E
(GGE F
drGGF H
[GGH I
$strGGI W
]GGW X
)GGX Y
,GGY Z
}II! "
)JJ  !
;JJ! "
}NN 
}QQ 
}RR 
}UU 
catchVV 
{WW 
listaXX 
=XX 
newXX 
ListXX  
<XX  !
ClienteXX! (
>XX( )
(XX) *
)XX* +
;XX+ ,
}YY 
return[[ 
lista[[ 
;[[ 
}\\ 	
public^^ 
bool^^ 
CambiarClave^^  
(^^  !
int^^! $
	idcliente^^% .
,^^. /
string^^0 6

nuevaclave^^7 A
,^^A B
out^^C F
string^^G M
Mensaje^^N U
)^^U V
{__ 	
bool`` 
	resultado`` 
=`` 
false`` "
;``" #
Mensajeaa 
=aa 
stringaa 
.aa 
Emptyaa "
;aa" #
trybb 
{cc 
usingdd 
(dd 
SqlConnectiondd $
	oconexiondd% .
=dd/ 0
newdd1 4
SqlConnectiondd5 B
(ddB C
ConexionddC K
.ddK L
cnddL N
)ddN O
)ddO P
{ee 

SqlCommandff 
cmdff "
=ff# $
newff% (

SqlCommandff) 3
(ff3 4
$str	ff4 Ç
,
ffÇ É
	oconexion
ffÑ ç
)
ffç é
;
ffé è
cmdgg 
.gg 

Parametersgg "
.gg" #
AddWithValuegg# /
(gg/ 0
$strgg0 5
,gg5 6
	idclientegg7 @
)gg@ A
;ggA B
cmdhh 
.hh 

Parametershh "
.hh" #
AddWithValuehh# /
(hh/ 0
$strhh0 =
,hh= >

nuevaclavehh? I
)hhI J
;hhJ K
cmdii 
.ii 
CommandTypeii #
=ii$ %
CommandTypeii& 1
.ii1 2
Textii2 6
;ii6 7
	oconexionjj 
.jj 
Openjj "
(jj" #
)jj# $
;jj$ %
	resultadokk 
=kk 
cmdkk  #
.kk# $
ExecuteNonQuerykk$ 3
(kk3 4
)kk4 5
>kk6 7
$numkk8 9
?kk: ;
truekk< @
:kkA B
falsekkC H
;kkH I
}ll 
}mm 
catchnn 
(nn 
	Exceptionnn 
exnn 
)nn  
{oo 
	resultadopp 
=pp 
falsepp !
;pp! "
Mensajeqq 
=qq 
exqq 
.qq 
Messageqq $
;qq$ %
}rr 
returnss 
	resultadoss 
;ss 
}tt 	
publicvv 
boolvv 
ReestablecerClavevv %
(vv% &
intvv& )
	idclientevv* 3
,vv3 4
stringvv5 ;
clavevv< A
,vvA B
outvvC F
stringvvG M
MensajevvN U
)vvU V
{ww 	
boolxx 
	resultadoxx 
=xx 
falsexx "
;xx" #
Mensajeyy 
=yy 
stringyy 
.yy 
Emptyyy "
;yy" #
tryzz 
{{{ 
using|| 
(|| 
SqlConnection|| $
	oconexion||% .
=||/ 0
new||1 4
SqlConnection||5 B
(||B C
Conexion||C K
.||K L
cn||L N
)||N O
)||O P
{}} 

SqlCommand~~ 
cmd~~ "
=~~# $
new~~% (

SqlCommand~~) 3
(~~3 4
$str~~4 }
,~~} ~
	oconexion	~~ à
)
~~à â
;
~~â ä
cmd 
. 

Parameters "
." #
AddWithValue# /
(/ 0
$str0 5
,5 6
	idcliente7 @
)@ A
;A B
cmd
ÄÄ 
.
ÄÄ 

Parameters
ÄÄ "
.
ÄÄ" #
AddWithValue
ÄÄ# /
(
ÄÄ/ 0
$str
ÄÄ0 8
,
ÄÄ8 9
clave
ÄÄ: ?
)
ÄÄ? @
;
ÄÄ@ A
cmd
ÅÅ 
.
ÅÅ 
CommandType
ÅÅ #
=
ÅÅ$ %
CommandType
ÅÅ& 1
.
ÅÅ1 2
Text
ÅÅ2 6
;
ÅÅ6 7
	oconexion
ÇÇ 
.
ÇÇ 
Open
ÇÇ "
(
ÇÇ" #
)
ÇÇ# $
;
ÇÇ$ %
	resultado
ÉÉ 
=
ÉÉ 
cmd
ÉÉ  #
.
ÉÉ# $
ExecuteNonQuery
ÉÉ$ 3
(
ÉÉ3 4
)
ÉÉ4 5
>
ÉÉ6 7
$num
ÉÉ8 9
?
ÉÉ: ;
true
ÉÉ< @
:
ÉÉA B
false
ÉÉC H
;
ÉÉH I
}
ÑÑ 
}
ÖÖ 
catch
ÜÜ 
(
ÜÜ 
	Exception
ÜÜ 
ex
ÜÜ 
)
ÜÜ  
{
áá 
	resultado
àà 
=
àà 
false
àà !
;
àà! "
Mensaje
ââ 
=
ââ 
ex
ââ 
.
ââ 
Message
ââ $
;
ââ$ %
}
ää 
return
ãã 
	resultado
ãã 
;
ãã 
}
åå 	
}
êê 
}ëë œ7
BC:\Users\51963\source\repos\YachayAgencia\CapaDatos\CD_Contacto.cs
	namespace 	
	CapaDatos
 
{ 
public 

class 
CD_Contacto 
{ 
public 
List 
< 
Contacto 
> 
Listar $
($ %
)% &
{ 	
List 
< 
Contacto 
> 
lista  
=! "
new# &
List' +
<+ ,
Contacto, 4
>4 5
(5 6
)6 7
;7 8
try 
{ 
using 
( 
SqlConnection $
	oconexion% .
=/ 0
new1 4
SqlConnection5 B
(B C
ConexionC K
.K L
cnL N
)N O
)O P
{ 
string 
query  
=! "
$str# :
;: ;

SqlCommand 
cmd "
=# $
new% (

SqlCommand) 3
(3 4
query4 9
,9 :
	oconexion; D
)D E
;E F
cmd 
. 
CommandType #
=$ %
CommandType& 1
.1 2
Text2 6
;6 7
	oconexion 
. 
Open "
(" #
)# $
;$ %
using 
( 
SqlDataReader (
dr) +
=, -
cmd. 1
.1 2
ExecuteReader2 ?
(? @
)@ A
)A B
{   
while!! 
(!! 
dr!! !
.!!! "
Read!!" &
(!!& '
)!!' (
)!!( )
{"" 
lista## !
.##! "
Add##" %
(##% &
new$$! $
Contacto$$% -
($$- .
)$$. /
{%%! "

IdContacto&&% /
=&&0 1
Convert&&2 9
.&&9 :
ToInt32&&: A
(&&A B
dr&&B D
[&&D E
$str&&E Q
]&&Q R
)&&R S
,&&S T
Nombre''% +
='', -
dr''. 0
[''0 1
$str''1 9
]''9 :
.'': ;
ToString''; C
(''C D
)''D E
,''E F
Apellido((% -
=((. /
dr((0 2
[((2 3
$str((3 =
]((= >
.((> ?
ToString((? G
(((G H
)((H I
,((I J
Celular))% ,
=))- .
Convert))/ 6
.))6 7
ToInt32))7 >
())> ?
dr))? A
[))A B
$str))B K
]))K L
)))L M
,))M N

Comentario**% /
=**0 1
dr**2 4
[**4 5
$str**5 A
]**A B
.**B C
ToString**C K
(**K L
)**L M
}++! "
)--  !
;--! "
}00 
}33 
}44 
}77 
catch88 
{99 
lista:: 
=:: 
new:: 
List::  
<::  !
Contacto::! )
>::) *
(::* +
)::+ ,
;::, -
};; 
return== 
lista== 
;== 
}>> 	
publicBB 
intBB 
	RegistrarBB 
(BB 
ContactoBB %
objBB& )
,BB) *
outBB+ .
stringBB/ 5
MensajeBB6 =
)BB= >
{CC 	
intDD 
idautogeneradoDD 
=DD  
$numDD! "
;DD" #
MensajeEE 
=EE 
stringEE 
.EE 
EmptyEE "
;EE" #
tryFF 
{GG 
usingHH 
(HH 
SqlConnectionHH $
	oconexionHH% .
=HH/ 0
newHH1 4
SqlConnectionHH5 B
(HHB C
ConexionHHC K
.HHK L
cnHHL N
)HHN O
)HHO P
{II 

SqlCommandKK 
cmdKK "
=KK# $
newKK% (

SqlCommandKK) 3
(KK3 4
$strKK4 J
,KKJ K
	oconexionKKL U
)KKU V
;KKV W
cmdLL 
.LL 

ParametersLL "
.LL" #
AddWithValueLL# /
(LL/ 0
$strLL0 8
,LL8 9
objLL: =
.LL= >
NombreLL> D
)LLD E
;LLE F
cmdMM 
.MM 

ParametersMM "
.MM" #
AddWithValueMM# /
(MM/ 0
$strMM0 :
,MM: ;
objMM< ?
.MM? @
ApellidoMM@ H
)MMH I
;MMI J
cmdNN 
.NN 

ParametersNN "
.NN" #
AddWithValueNN# /
(NN/ 0
$strNN0 9
,NN9 :
objNN; >
.NN> ?
CelularNN? F
)NNF G
;NNG H
cmdOO 
.OO 

ParametersOO "
.OO" #
AddWithValueOO# /
(OO/ 0
$strOO0 <
,OO< =
objOO> A
.OOA B

ComentarioOOB L
)OOL M
;OOM N
cmdPP 
.PP 

ParametersPP "
.PP" #
AddPP# &
(PP& '
$strPP' 2
,PP2 3
	SqlDbTypePP4 =
.PP= >
IntPP> A
)PPA B
.PPB C
	DirectionPPC L
=PPM N
ParameterDirectionPPO a
.PPa b
OutputPPb h
;PPh i
cmdQQ 
.QQ 

ParametersQQ "
.QQ" #
AddQQ# &
(QQ& '
$strQQ' 0
,QQ0 1
	SqlDbTypeQQ2 ;
.QQ; <
VarCharQQ< C
,QQC D
$numQQE H
)QQH I
.QQI J
	DirectionQQJ S
=QQT U
ParameterDirectionQQV h
.QQh i
OutputQQi o
;QQo p
cmdRR 
.RR 
CommandTypeRR #
=RR$ %
CommandTypeRR& 1
.RR1 2
StoredProcedureRR2 A
;RRA B
	oconexionTT 
.TT 
OpenTT "
(TT" #
)TT# $
;TT$ %
cmdVV 
.VV 
ExecuteNonQueryVV '
(VV' (
)VV( )
;VV) *
idautogeneradoWW "
=WW# $
ConvertWW% ,
.WW, -
ToInt32WW- 4
(WW4 5
cmdWW5 8
.WW8 9

ParametersWW9 C
[WWC D
$strWWD O
]WWO P
.WWP Q
ValueWWQ V
)WWV W
;WWW X
MensajeXX 
=XX 
cmdXX !
.XX! "

ParametersXX" ,
[XX, -
$strXX- 6
]XX6 7
.XX7 8
ValueXX8 =
.XX= >
ToStringXX> F
(XXF G
)XXG H
;XXH I
}[[ 
}\\ 
catch]] 
(]] 
	Exception]] 
ex]] 
)]]  
{^^ 
idautogenerado__ 
=__  
$num__! "
;__" #
Mensaje`` 
=`` 
ex`` 
.`` 
Message`` $
;``$ %
}aa 
returnbb 
idautogeneradobb !
;bb! "
}cc 	
}dd 
}ee •Ö
AC:\Users\51963\source\repos\YachayAgencia\CapaDatos\CD_Paquete.cs
	namespace

 	
	CapaDatos


 
{ 
public 

class 

CD_Paquete 
{ 
public 
List 
< 
PaqueteTuristico $
>$ %
Listar& ,
(, -
)- .
{ 	
List 
< 
PaqueteTuristico !
>! "
lista# (
=) *
new+ .
List/ 3
<3 4
PaqueteTuristico4 D
>D E
(E F
)F G
;G H
try 
{ 
using 
( 
SqlConnection $
	oconexion% .
=/ 0
new1 4
SqlConnection5 B
(B C
ConexionC K
.K L
cnL N
)N O
)O P
{ 
string 
query  
=! "
$str# a
;a b

SqlCommand 
cmd "
=# $
new% (

SqlCommand) 3
(3 4
query4 9
,9 :
	oconexion; D
)D E
;E F
cmd 
. 
CommandType #
=$ %
CommandType& 1
.1 2
Text2 6
;6 7
	oconexion 
. 
Open "
(" #
)# $
;$ %
using 
( 
SqlDataReader (
dr) +
=, -
cmd. 1
.1 2
ExecuteReader2 ?
(? @
)@ A
)A B
{ 
while 
( 
dr !
.! "
Read" &
(& '
)' (
)( )
{ 
lista !
.! "
Add" %
(% &
new  ! $
PaqueteTuristico  % 5
(  5 6
)  6 7
{!!! "
	IdPaquete""% .
=""/ 0
Convert""1 8
.""8 9
ToInt32""9 @
(""@ A
dr""A C
[""C D
$str""D O
]""O P
)""P Q
,""Q R
Descripcion##% 0
=##1 2
dr##3 5
[##5 6
$str##6 C
]##C D
.##D E
ToString##E M
(##M N
)##N O
,##O P
Activo$$% +
=$$, -
Convert$$. 5
.$$5 6
	ToBoolean$$6 ?
($$? @
dr$$@ B
[$$B C
$str$$C K
]$$K L
)$$L M
}%%! "
)%%" #
;%%# $
}&& 
}'' 
}(( 
})) 
catch** 
{++ 
lista,, 
=,, 
new,, 
List,,  
<,,  !
PaqueteTuristico,,! 1
>,,1 2
(,,2 3
),,3 4
;,,4 5
}-- 
return// 
lista// 
;// 
}00 	
public22 
int22 
	Registrar22 
(22 
PaqueteTuristico22 -
obj22. 1
,221 2
out223 6
string227 =
Mensaje22> E
)22E F
{33 	
int44 
idautogenerado44 
=44  
$num44! "
;44" #
Mensaje55 
=55 
string55 
.55 
Empty55 "
;55" #
try66 
{77 
using88 
(88 
SqlConnection88 $
	oconexion88% .
=88/ 0
new881 4
SqlConnection885 B
(88B C
Conexion88C K
.88K L
cn88L N
)88N O
)88O P
{99 

SqlCommand;; 
cmd;; "
=;;# $
new;;% (

SqlCommand;;) 3
(;;3 4
$str;;4 I
,;;I J
	oconexion;;K T
);;T U
;;;U V
cmd<< 
.<< 

Parameters<< "
.<<" #
AddWithValue<<# /
(<</ 0
$str<<0 =
,<<= >
obj<<? B
.<<B C
Descripcion<<C N
)<<N O
;<<O P
cmd== 
.== 

Parameters== "
.==" #
AddWithValue==# /
(==/ 0
$str==0 8
,==8 9
obj==: =
.=== >
Activo==> D
)==D E
;==E F
cmd>> 
.>> 

Parameters>> "
.>>" #
Add>># &
(>>& '
$str>>' 2
,>>2 3
	SqlDbType>>4 =
.>>= >
Int>>> A
)>>A B
.>>B C
	Direction>>C L
=>>M N
ParameterDirection>>O a
.>>a b
Output>>b h
;>>h i
cmd?? 
.?? 

Parameters?? "
.??" #
Add??# &
(??& '
$str??' 0
,??0 1
	SqlDbType??2 ;
.??; <
VarChar??< C
,??C D
$num??E H
)??H I
.??I J
	Direction??J S
=??T U
ParameterDirection??V h
.??h i
Output??i o
;??o p
cmd@@ 
.@@ 
CommandType@@ #
=@@$ %
CommandType@@& 1
.@@1 2
StoredProcedure@@2 A
;@@A B
	oconexionBB 
.BB 
OpenBB "
(BB" #
)BB# $
;BB$ %
cmdDD 
.DD 
ExecuteNonQueryDD '
(DD' (
)DD( )
;DD) *
idautogeneradoEE "
=EE# $
ConvertEE% ,
.EE, -
ToInt32EE- 4
(EE4 5
cmdEE5 8
.EE8 9

ParametersEE9 C
[EEC D
$strEED O
]EEO P
.EEP Q
ValueEEQ V
)EEV W
;EEW X
MensajeFF 
=FF 
cmdFF !
.FF! "

ParametersFF" ,
[FF, -
$strFF- 6
]FF6 7
.FF7 8
ValueFF8 =
.FF= >
ToStringFF> F
(FFF G
)FFG H
;FFH I
}II 
}JJ 
catchKK 
(KK 
	ExceptionKK 
exKK 
)KK  
{LL 
idautogeneradoMM 
=MM  
$numMM! "
;MM" #
MensajeNN 
=NN 
exNN 
.NN 
MessageNN $
;NN$ %
}OO 
returnPP 
idautogeneradoPP !
;PP! "
}QQ 	
publicSS 
boolSS 
EditarSS 
(SS 
PaqueteTuristicoSS +
objSS, /
,SS/ 0
outSS1 4
stringSS5 ;
MensajeSS< C
)SSC D
{TT 	
boolUU 
	resultadoUU 
=UU 
falseUU "
;UU" #
MensajeVV 
=VV 
stringVV 
.VV 
EmptyVV "
;VV" #
tryWW 
{XX 
usingYY 
(YY 
SqlConnectionYY $
	oconexionYY% .
=YY/ 0
newYY1 4
SqlConnectionYY5 B
(YYB C
ConexionYYC K
.YYK L
cnYYL N
)YYN O
)YYO P
{ZZ 

SqlCommand\\ 
cmd\\ "
=\\# $
new\\% (

SqlCommand\\) 3
(\\3 4
$str\\4 F
,\\F G
	oconexion\\H Q
)\\Q R
;\\R S
cmd]] 
.]] 

Parameters]] "
.]]" #
AddWithValue]]# /
(]]/ 0
$str]]0 ;
,]]; <
obj]]= @
.]]@ A
	IdPaquete]]A J
)]]J K
;]]K L
cmd^^ 
.^^ 

Parameters^^ "
.^^" #
AddWithValue^^# /
(^^/ 0
$str^^0 =
,^^= >
obj^^? B
.^^B C
Descripcion^^C N
)^^N O
;^^O P
cmd__ 
.__ 

Parameters__ "
.__" #
AddWithValue__# /
(__/ 0
$str__0 8
,__8 9
obj__: =
.__= >
Activo__> D
)__D E
;__E F
cmd`` 
.`` 

Parameters`` "
.``" #
Add``# &
(``& '
$str``' 2
,``2 3
	SqlDbType``4 =
.``= >
Bit``> A
)``A B
.``B C
	Direction``C L
=``M N
ParameterDirection``O a
.``a b
Output``b h
;``h i
cmdaa 
.aa 

Parametersaa "
.aa" #
Addaa# &
(aa& '
$straa' 0
,aa0 1
	SqlDbTypeaa2 ;
.aa; <
VarCharaa< C
,aaC D
$numaaE H
)aaH I
.aaI J
	DirectionaaJ S
=aaT U
ParameterDirectionaaV h
.aah i
Outputaai o
;aao p
cmdbb 
.bb 
CommandTypebb #
=bb$ %
CommandTypebb& 1
.bb1 2
StoredProcedurebb2 A
;bbA B
	oconexiondd 
.dd 
Opendd "
(dd" #
)dd# $
;dd$ %
cmdff 
.ff 
ExecuteNonQueryff '
(ff' (
)ff( )
;ff) *
	resultadogg 
=gg 
Convertgg  '
.gg' (
	ToBooleangg( 1
(gg1 2
cmdgg2 5
.gg5 6

Parametersgg6 @
[gg@ A
$strggA L
]ggL M
.ggM N
ValueggN S
)ggS T
;ggT U
Mensajehh 
=hh 
cmdhh !
.hh! "

Parametershh" ,
[hh, -
$strhh- 6
]hh6 7
.hh7 8
Valuehh8 =
.hh= >
ToStringhh> F
(hhF G
)hhG H
;hhH I
}kk 
}ll 
catchmm 
(mm 
	Exceptionmm 
exmm 
)mm  
{nn 
	resultadooo 
=oo 
falseoo !
;oo! "
Mensajepp 
=pp 
expp 
.pp 
Messagepp $
;pp$ %
}qq 
returnrr 
	resultadorr 
;rr 
}ss 	
publicuu 
booluu 
Eliminaruu 
(uu 
intuu  
iduu! #
,uu# $
outuu% (
stringuu) /
Mensajeuu0 7
)uu7 8
{vv 	
boolww 
	resultadoww 
=ww 
falseww "
;ww" #
Mensajexx 
=xx 
stringxx 
.xx 
Emptyxx "
;xx" #
tryyy 
{zz 
using{{ 
({{ 
SqlConnection{{ $
	oconexion{{% .
={{/ 0
new{{1 4
SqlConnection{{5 B
({{B C
Conexion{{C K
.{{K L
cn{{L N
){{N O
){{O P
{|| 

SqlCommand~~ 
cmd~~ "
=~~# $
new~~% (

SqlCommand~~) 3
(~~3 4
$str~~4 H
,~~H I
	oconexion~~J S
)~~S T
;~~T U
cmd 
. 

Parameters "
." #
AddWithValue# /
(/ 0
$str0 ;
,; <
id= ?
)? @
;@ A
cmd
ÄÄ 
.
ÄÄ 

Parameters
ÄÄ "
.
ÄÄ" #
Add
ÄÄ# &
(
ÄÄ& '
$str
ÄÄ' 2
,
ÄÄ2 3
	SqlDbType
ÄÄ4 =
.
ÄÄ= >
Bit
ÄÄ> A
)
ÄÄA B
.
ÄÄB C
	Direction
ÄÄC L
=
ÄÄM N 
ParameterDirection
ÄÄO a
.
ÄÄa b
Output
ÄÄb h
;
ÄÄh i
cmd
ÅÅ 
.
ÅÅ 

Parameters
ÅÅ "
.
ÅÅ" #
Add
ÅÅ# &
(
ÅÅ& '
$str
ÅÅ' 0
,
ÅÅ0 1
	SqlDbType
ÅÅ2 ;
.
ÅÅ; <
VarChar
ÅÅ< C
,
ÅÅC D
$num
ÅÅE H
)
ÅÅH I
.
ÅÅI J
	Direction
ÅÅJ S
=
ÅÅT U 
ParameterDirection
ÅÅV h
.
ÅÅh i
Output
ÅÅi o
;
ÅÅo p
cmd
ÇÇ 
.
ÇÇ 
CommandType
ÇÇ #
=
ÇÇ$ %
CommandType
ÇÇ& 1
.
ÇÇ1 2
StoredProcedure
ÇÇ2 A
;
ÇÇA B
	oconexion
ÑÑ 
.
ÑÑ 
Open
ÑÑ "
(
ÑÑ" #
)
ÑÑ# $
;
ÑÑ$ %
cmd
ÜÜ 
.
ÜÜ 
ExecuteNonQuery
ÜÜ '
(
ÜÜ' (
)
ÜÜ( )
;
ÜÜ) *
	resultado
áá 
=
áá 
Convert
áá  '
.
áá' (
	ToBoolean
áá( 1
(
áá1 2
cmd
áá2 5
.
áá5 6

Parameters
áá6 @
[
áá@ A
$str
ááA L
]
ááL M
.
ááM N
Value
ááN S
)
ááS T
;
ááT U
Mensaje
àà 
=
àà 
cmd
àà !
.
àà! "

Parameters
àà" ,
[
àà, -
$str
àà- 6
]
àà6 7
.
àà7 8
Value
àà8 =
.
àà= >
ToString
àà> F
(
ààF G
)
ààG H
;
ààH I
}
ãã 
}
åå 
catch
çç 
(
çç 
	Exception
çç 
ex
çç 
)
çç  
{
éé 
	resultado
èè 
=
èè 
false
èè !
;
èè! "
Mensaje
êê 
=
êê 
ex
êê 
.
êê 
Message
êê $
;
êê$ %
}
ëë 
return
íí 
	resultado
íí 
;
íí 
}
ìì 	
public
îî 
List
îî 
<
îî 
PaqueteTuristico
îî $
>
îî$ %'
ListarPaqueteporCategoria
îî& ?
(
îî? @
int
îî@ C
idcategoria
îîD O
)
îîO P
{
ïï 	
List
ññ 
<
ññ 
PaqueteTuristico
ññ !
>
ññ! "
lista
ññ# (
=
ññ) *
new
ññ+ .
List
ññ/ 3
<
ññ3 4
PaqueteTuristico
ññ4 D
>
ññD E
(
ññE F
)
ññF G
;
ññG H
try
òò 
{
ôô 
using
öö 
(
öö 
SqlConnection
öö $
	oconexion
öö% .
=
öö/ 0
new
öö1 4
SqlConnection
öö5 B
(
ööB C
Conexion
ööC K
.
ööK L
cn
ööL N
)
ööN O
)
ööO P
{
õõ 
StringBuilder
úú !
sb
úú" $
=
úú% &
new
úú' *
StringBuilder
úú+ 8
(
úú8 9
)
úú9 :
;
úú: ;
sb
ùù 
.
ùù 

AppendLine
ùù !
(
ùù! "
$str
ùù" ]
)
ùù] ^
;
ùù^ _
sb
ûû 
.
ûû 

AppendLine
ûû !
(
ûû! "
$str
ûû" [
)
ûû[ \
;
ûû\ ]
sb
üü 
.
üü 

AppendLine
üü !
(
üü! "
$str
üü" o
)
üüo p
;
üüp q
sb
†† 
.
†† 

AppendLine
†† !
(
††! "
$str
††" l
)
††l m
;
††m n

SqlCommand
¢¢ 
cmd
¢¢ "
=
¢¢# $
new
¢¢% (

SqlCommand
¢¢) 3
(
¢¢3 4
sb
¢¢4 6
.
¢¢6 7
ToString
¢¢7 ?
(
¢¢? @
)
¢¢@ A
,
¢¢A B
	oconexion
¢¢C L
)
¢¢L M
;
¢¢M N
cmd
££ 
.
££ 

Parameters
££ "
.
££" #
AddWithValue
££# /
(
££/ 0
$str
££0 >
,
££> ?
idcategoria
££@ K
)
££K L
;
££L M
cmd
§§ 
.
§§ 
CommandType
§§ #
=
§§$ %
CommandType
§§& 1
.
§§1 2
Text
§§2 6
;
§§6 7
	oconexion
•• 
.
•• 
Open
•• "
(
••" #
)
••# $
;
••$ %
using
ßß 
(
ßß 
SqlDataReader
ßß (
dr
ßß) +
=
ßß, -
cmd
ßß. 1
.
ßß1 2
ExecuteReader
ßß2 ?
(
ßß? @
)
ßß@ A
)
ßßA B
{
®® 
while
©© 
(
©© 
dr
©© !
.
©©! "
Read
©©" &
(
©©& '
)
©©' (
)
©©( )
{
™™ 
lista
´´ !
.
´´! "
Add
´´" %
(
´´% &
new
¨¨! $
PaqueteTuristico
¨¨% 5
(
¨¨5 6
)
¨¨6 7
{
≠≠! "
	IdPaquete
ÆÆ% .
=
ÆÆ/ 0
Convert
ÆÆ1 8
.
ÆÆ8 9
ToInt32
ÆÆ9 @
(
ÆÆ@ A
dr
ÆÆA C
[
ÆÆC D
$str
ÆÆD O
]
ÆÆO P
)
ÆÆP Q
,
ÆÆQ R
Descripcion
ØØ% 0
=
ØØ1 2
dr
ØØ3 5
[
ØØ5 6
$str
ØØ6 C
]
ØØC D
.
ØØD E
ToString
ØØE M
(
ØØM N
)
ØØN O
,
ØØO P
}
∞∞! "
)
∞∞" #
;
∞∞# $
}
±± 
}
≤≤ 
}
≥≥ 
}
¥¥ 
catch
µµ 
{
∂∂ 
lista
∑∑ 
=
∑∑ 
new
∑∑ 
List
∑∑  
<
∑∑  !
PaqueteTuristico
∑∑! 1
>
∑∑1 2
(
∑∑2 3
)
∑∑3 4
;
∑∑4 5
}
∏∏ 
return
∫∫ 
lista
∫∫ 
;
∫∫ 
}
ªª 	
}
ºº 
}ΩΩ ¯6
AC:\Users\51963\source\repos\YachayAgencia\CapaDatos\CD_Reporte.cs
	namespace 	
	CapaDatos
 
{		 
public

 

class

 

CD_Reporte

 
{ 
public 
List 
< 
Reporte 
> 
Ventas #
(# $
string$ *
fechainicio+ 6
,6 7
string8 >
fechafin? G
,G H
stringI O
idtransaccionP ]
)] ^
{ 	
List 
< 
Reporte 
> 
lista 
=  !
new" %
List& *
<* +
Reporte+ 2
>2 3
(3 4
)4 5
;5 6
try 
{ 
using 
( 
SqlConnection $
	oconexion% .
=/ 0
new1 4
SqlConnection5 B
(B C
ConexionC K
.K L
cnL N
)N O
)O P
{ 

SqlCommand 
cmd "
=# $
new% (

SqlCommand) 3
(3 4
$str4 F
,F G
	oconexionH Q
)Q R
;R S
cmd 
. 

Parameters "
." #
AddWithValue# /
(/ 0
$str0 =
,= >
fechainicio? J
)J K
;K L
cmd 
. 

Parameters "
." #
AddWithValue# /
(/ 0
$str0 :
,: ;
fechafin< D
)D E
;E F
cmd 
. 

Parameters "
." #
AddWithValue# /
(/ 0
$str0 ?
,? @
idtransaccionA N
)N O
;O P
cmd 
. 
CommandType #
=$ %
CommandType& 1
.1 2
StoredProcedure2 A
;A B
	oconexion 
. 
Open "
(" #
)# $
;$ %
using 
( 
SqlDataReader (
dr) +
=, -
cmd. 1
.1 2
ExecuteReader2 ?
(? @
)@ A
)A B
{ 
while   
(   
dr   !
.  ! "
Read  " &
(  & '
)  ' (
)  ( )
{!! 
lista"" !
.""! "
Add""" %
(""% &
new##! $
Reporte##% ,
(##, -
)##- .
{$$! "

FechaVenta%%% /
=%%0 1
dr%%2 4
[%%4 5
$str%%5 A
]%%A B
.%%B C
ToString%%C K
(%%K L
)%%L M
,%%M N
Cliente&&% ,
=&&- .
dr&&/ 1
[&&1 2
$str&&2 ;
]&&; <
.&&< =
ToString&&= E
(&&E F
)&&F G
,&&G H
Reserva''% ,
=''- .
dr''/ 1
[''1 2
$str''2 ;
]''; <
.''< =
ToString''= E
(''E F
)''F G
,''G H
Precio((% +
=((, -
Convert((. 5
.((5 6
	ToDecimal((6 ?
(((? @
dr((@ B
[((B C
$str((C K
]((K L
,((L M
new((N Q
CultureInfo((R ]
(((] ^
$str((^ e
)((e f
)((f g
,((g h
Cantidad))% -
=)). /
Convert))0 7
.))7 8
ToInt32))8 ?
())? @
dr))@ B
[))B C
$str))C M
]))M N
.))N O
ToString))O W
())W X
)))X Y
)))Y Z
,))Z [
Total**% *
=**+ ,
Convert**- 4
.**4 5
	ToDecimal**5 >
(**> ?
dr**? A
[**A B
$str**B I
]**I J
,**J K
new**L O
CultureInfo**P [
(**[ \
$str**\ c
)**c d
)**d e
,**e f
IdTransaccion++% 2
=++3 4
dr++5 7
[++7 8
$str++8 G
]++G H
.++H I
ToString++I Q
(++Q R
)++R S
},,! "
),," #
;,,# $
}-- 
}.. 
}// 
}22 
catch33 
{44 
lista55 
=55 
new55 
List55  
<55  !
Reporte55! (
>55( )
(55) *
)55* +
;55+ ,
}66 
return88 
lista88 
;88 
}99 	
public?? 
Tablero?? 

VerTablero?? !
(??! "
)??" #
{@@ 	
TableroAA 
objetoAA 
=AA 
newAA  
TableroAA! (
(AA( )
)AA) *
;AA* +
tryCC 
{DD 
usingEE 
(EE 
SqlConnectionEE $
	oconexionEE% .
=EE/ 0
newEE1 4
SqlConnectionEE5 B
(EEB C
ConexionEEC K
.EEK L
cnEEL N
)EEN O
)EEO P
{FF 

SqlCommandHH 
cmdHH "
=HH# $
newHH% (

SqlCommandHH) 3
(HH3 4
$strHH4 G
,HHG H
	oconexionHHI R
)HHR S
;HHS T
cmdII 
.II 
CommandTypeII #
=II$ %
CommandTypeII& 1
.II1 2
StoredProcedureII2 A
;IIA B
	oconexionJJ 
.JJ 
OpenJJ "
(JJ" #
)JJ# $
;JJ$ %
usingLL 
(LL 
SqlDataReaderLL (
drLL) +
=LL, -
cmdLL. 1
.LL1 2
ExecuteReaderLL2 ?
(LL? @
)LL@ A
)LLA B
{MM 
whileNN 
(NN 
drNN !
.NN! "
ReadNN" &
(NN& '
)NN' (
)NN( )
{OO 
objetoPP "
=PP# $
newPP% (
TableroPP) 0
(PP0 1
)PP1 2
{QQ 
TotalClienteRR  ,
=RR- .
ConvertRR/ 6
.RR6 7
ToInt32RR7 >
(RR> ?
drRR? A
[RRA B
$strRRB P
]RRP Q
)RRQ R
,RRR S

TotalVentaSS  *
=SS+ ,
ConvertSS- 4
.SS4 5
ToInt32SS5 <
(SS< =
drSS= ?
[SS? @
$strSS@ L
]SSL M
)SSM N
,SSN O
TotalReservaTT  ,
=TT- .
ConvertTT/ 6
.TT6 7
ToInt32TT7 >
(TT> ?
drTT? A
[TTA B
$strTTB P
]TTP Q
)TTQ R
,TTR S
}VV 
;VV 
}WW 
}ZZ 
}[[ 
}^^ 
catch__ 
{`` 
objetoaa 
=aa 
newaa 
Tableroaa $
(aa$ %
)aa% &
;aa& '
}bb 
returndd 
objetodd 
;dd 
}ee 	
}rr 
}ss ∆´
AC:\Users\51963\source\repos\YachayAgencia\CapaDatos\CD_Reserva.cs
	namespace 	
	CapaDatos
 
{ 
public 

class 

CD_Reserva 
{ 
public 
List 
< 
Reserva 
> 
Listar #
(# $
)$ %
{ 	
List 
< 
Reserva 
> 
lista 
=  !
new" %
List& *
<* +
Reserva+ 2
>2 3
(3 4
)4 5
;5 6
try 
{ 
using 
( 
SqlConnection $
	oconexion% .
=/ 0
new1 4
SqlConnection5 B
(B C
ConexionC K
.K L
cnL N
)N O
)O P
{ 
StringBuilder !
sb" $
=% &
new' *
StringBuilder+ 8
(8 9
)9 :
;: ;
sb 
. 

AppendLine !
(! "
$str" O
)O P
;P Q
sb 
. 

AppendLine !
(! "
$str" J
)J K
;K L
sb 
. 

AppendLine !
(! "
$str" N
)N O
;O P
sb 
. 

AppendLine !
(! "
$str" Y
)Y Z
;Z [
sb 
. 

AppendLine !
(! "
$str" 2
)2 3
;3 4
sb   
.   

AppendLine   !
(  ! "
$str  " ^
)  ^ _
;  _ `
sb!! 
.!! 

AppendLine!! !
(!!! "
$str!!" [
)!![ \
;!!\ ]

SqlCommand%% 
cmd%% "
=%%# $
new%%% (

SqlCommand%%) 3
(%%3 4
sb%%4 6
.%%6 7
ToString%%7 ?
(%%? @
)%%@ A
,%%A B
	oconexion%%C L
)%%L M
;%%M N
cmd&& 
.&& 
CommandType&& #
=&&$ %
CommandType&&& 1
.&&1 2
Text&&2 6
;&&6 7
	oconexion'' 
.'' 
Open'' "
(''" #
)''# $
;''$ %
using)) 
()) 
SqlDataReader)) (
dr))) +
=)), -
cmd)). 1
.))1 2
ExecuteReader))2 ?
())? @
)))@ A
)))A B
{** 
while++ 
(++ 
dr++ !
.++! "
Read++" &
(++& '
)++' (
)++( )
{,, 
lista-- !
.--! "
Add--" %
(--% &
new..! $
Reserva..% ,
(.., -
)..- .
{//! "
	IdReserva00% .
=00/ 0
Convert001 8
.008 9
ToInt32009 @
(00@ A
dr00A C
[00C D
$str00D O
]00O P
)00P Q
,00Q R
Nombre11% +
=11, -
dr11. 0
[110 1
$str111 9
]119 :
.11: ;
ToString11; C
(11C D
)11D E
,11E F
Descripcion22% 0
=221 2
dr223 5
[225 6
$str226 C
]22C D
.22D E
ToString22E M
(22M N
)22N O
,22O P
oPaquete33% -
=33. /
new330 3
PaqueteTuristico334 D
(33D E
)33E F
{33G H
	IdPaquete33I R
=33S T
Convert33U \
.33\ ]
ToInt3233] d
(33d e
dr33e g
[33g h
$str33h s
]33s t
)33t u
,33u v
Descripcion	33w Ç
=
33É Ñ
dr
33Ö á
[
33á à
$str
33à î
]
33î ï
.
33ï ñ
ToString
33ñ û
(
33û ü
)
33ü †
}
33° ¢
,
33¢ £

ocategoria44% /
=440 1
new442 5
	Categoria446 ?
(44? @
)44@ A
{44B C
IdCategoria44D O
=44P Q
Convert44R Y
.44Y Z
ToInt3244Z a
(44a b
dr44b d
[44d e
$str44e r
]44r s
)44s t
,44t u
Descripcion	44v Å
=
44Ç É
dr
44Ñ Ü
[
44Ü á
$str
44á ï
]
44ï ñ
.
44ñ ó
ToString
44ó ü
(
44ü †
)
44† °
}
44¢ £
,
44£ §
Precio55% +
=55, -
Convert55. 5
.555 6
	ToDecimal556 ?
(55? @
dr55@ B
[55B C
$str55C K
]55K L
,55L M
new55N Q
CultureInfo55R ]
(55] ^
$str55^ e
)55e f
)55f g
,55g h
Stock66% *
=66+ ,
Convert66- 4
.664 5
ToInt32665 <
(66< =
dr66= ?
[66? @
$str66@ G
]66G H
)66H I
,66I J

RutaImagen77% /
=770 1
dr772 4
[774 5
$str775 A
]77A B
.77B C
ToString77C K
(77K L
)77L M
,77M N
NombreImagen88% 1
=882 3
dr884 6
[886 7
$str887 E
]88E F
.88F G
ToString88G O
(88O P
)88P Q
,88Q R
Activo99% +
=99, -
Convert99. 5
.995 6
	ToBoolean996 ?
(99? @
dr99@ B
[99B C
$str99C K
]99K L
)99L M
}::! "
)::" #
;::# $
};; 
}<< 
}== 
}>> 
catch?? 
{@@ 
listaAA 
=AA 
newAA 
ListAA  
<AA  !
ReservaAA! (
>AA( )
(AA) *
)AA* +
;AA+ ,
}BB 
returnDD 
listaDD 
;DD 
}EE 	
publicGG 
intGG 
	RegistrarGG 
(GG 
ReservaGG $
objGG% (
,GG( )
outGG* -
stringGG. 4
MensajeGG5 <
)GG< =
{HH 	
intII 
idautogeneradoII 
=II  
$numII! "
;II" #
MensajeJJ 
=JJ 
stringJJ 
.JJ 
EmptyJJ "
;JJ" #
tryKK 
{LL 
usingMM 
(MM 
SqlConnectionMM $
	oconexionMM% .
=MM/ 0
newMM1 4
SqlConnectionMM5 B
(MMB C
ConexionMMC K
.MMK L
cnMML N
)MMN O
)MMO P
{NN 

SqlCommandPP 
cmdPP "
=PP# $
newPP% (

SqlCommandPP) 3
(PP3 4
$strPP4 I
,PPI J
	oconexionPPK T
)PPT U
;PPU V
cmdQQ 
.QQ 

ParametersQQ "
.QQ" #
AddWithValueQQ# /
(QQ/ 0
$strQQ0 8
,QQ8 9
objQQ: =
.QQ= >
NombreQQ> D
)QQD E
;QQE F
cmdRR 
.RR 

ParametersRR "
.RR" #
AddWithValueRR# /
(RR/ 0
$strRR0 =
,RR= >
objRR? B
.RRB C
DescripcionRRC N
)RRN O
;RRO P
cmdSS 
.SS 

ParametersSS "
.SS" #
AddWithValueSS# /
(SS/ 0
$strSS0 ;
,SS; <
objSS= @
.SS@ A
oPaqueteSSA I
.SSI J
	IdPaqueteSSJ S
)SSS T
;SST U
cmdTT 
.TT 

ParametersTT "
.TT" #
AddWithValueTT# /
(TT/ 0
$strTT0 =
,TT= >
objTT? B
.TTB C

ocategoriaTTC M
.TTM N
IdCategoriaTTN Y
)TTY Z
;TTZ [
cmdUU 
.UU 

ParametersUU "
.UU" #
AddWithValueUU# /
(UU/ 0
$strUU0 8
,UU8 9
objUU: =
.UU= >
PrecioUU> D
)UUD E
;UUE F
cmdVV 
.VV 

ParametersVV "
.VV" #
AddWithValueVV# /
(VV/ 0
$strVV0 7
,VV7 8
objVV9 <
.VV< =
StockVV= B
)VVB C
;VVC D
cmdWW 
.WW 

ParametersWW "
.WW" #
AddWithValueWW# /
(WW/ 0
$strWW0 8
,WW8 9
objWW: =
.WW= >
ActivoWW> D
)WWD E
;WWE F
cmdXX 
.XX 

ParametersXX "
.XX" #
AddXX# &
(XX& '
$strXX' 2
,XX2 3
	SqlDbTypeXX4 =
.XX= >
IntXX> A
)XXA B
.XXB C
	DirectionXXC L
=XXM N
ParameterDirectionXXO a
.XXa b
OutputXXb h
;XXh i
cmdYY 
.YY 

ParametersYY "
.YY" #
AddYY# &
(YY& '
$strYY' 0
,YY0 1
	SqlDbTypeYY2 ;
.YY; <
VarCharYY< C
,YYC D
$numYYE H
)YYH I
.YYI J
	DirectionYYJ S
=YYT U
ParameterDirectionYYV h
.YYh i
OutputYYi o
;YYo p
cmdZZ 
.ZZ 
CommandTypeZZ #
=ZZ$ %
CommandTypeZZ& 1
.ZZ1 2
StoredProcedureZZ2 A
;ZZA B
	oconexion\\ 
.\\ 
Open\\ "
(\\" #
)\\# $
;\\$ %
cmd^^ 
.^^ 
ExecuteNonQuery^^ '
(^^' (
)^^( )
;^^) *
idautogenerado__ "
=__# $
Convert__% ,
.__, -
ToInt32__- 4
(__4 5
cmd__5 8
.__8 9

Parameters__9 C
[__C D
$str__D O
]__O P
.__P Q
Value__Q V
)__V W
;__W X
Mensaje`` 
=`` 
cmd`` !
.``! "

Parameters``" ,
[``, -
$str``- 6
]``6 7
.``7 8
Value``8 =
.``= >
ToString``> F
(``F G
)``G H
;``H I
}cc 
}dd 
catchee 
(ee 
	Exceptionee 
exee 
)ee  
{ff 
idautogeneradogg 
=gg  
$numgg! "
;gg" #
Mensajehh 
=hh 
exhh 
.hh 
Messagehh $
;hh$ %
}ii 
returnjj 
idautogeneradojj !
;jj! "
}kk 	
publicmm 
boolmm 
Editarmm 
(mm 
Reservamm "
objmm# &
,mm& '
outmm( +
stringmm, 2
Mensajemm3 :
)mm: ;
{nn 	
booloo 
	resultadooo 
=oo 
falseoo "
;oo" #
Mensajepp 
=pp 
stringpp 
.pp 
Emptypp "
;pp" #
tryqq 
{rr 
usingss 
(ss 
SqlConnectionss $
	oconexionss% .
=ss/ 0
newss1 4
SqlConnectionss5 B
(ssB C
ConexionssC K
.ssK L
cnssL N
)ssN O
)ssO P
{tt 

SqlCommandvv 
cmdvv "
=vv# $
newvv% (

SqlCommandvv) 3
(vv3 4
$strvv4 F
,vvF G
	oconexionvvH Q
)vvQ R
;vvR S
cmdww 
.ww 

Parametersww "
.ww" #
AddWithValueww# /
(ww/ 0
$strww0 ;
,ww; <
objww= @
.ww@ A
	IdReservawwA J
)wwJ K
;wwK L
cmdxx 
.xx 

Parametersxx "
.xx" #
AddWithValuexx# /
(xx/ 0
$strxx0 8
,xx8 9
objxx: =
.xx= >
Nombrexx> D
)xxD E
;xxE F
cmdyy 
.yy 

Parametersyy "
.yy" #
AddWithValueyy# /
(yy/ 0
$stryy0 =
,yy= >
objyy? B
.yyB C
DescripcionyyC N
)yyN O
;yyO P
cmdzz 
.zz 

Parameterszz "
.zz" #
AddWithValuezz# /
(zz/ 0
$strzz0 ;
,zz; <
objzz= @
.zz@ A
oPaquetezzA I
.zzI J
	IdPaquetezzJ S
)zzS T
;zzT U
cmd{{ 
.{{ 

Parameters{{ "
.{{" #
AddWithValue{{# /
({{/ 0
$str{{0 =
,{{= >
obj{{? B
.{{B C

ocategoria{{C M
.{{M N
IdCategoria{{N Y
){{Y Z
;{{Z [
cmd|| 
.|| 

Parameters|| "
.||" #
AddWithValue||# /
(||/ 0
$str||0 8
,||8 9
obj||: =
.||= >
Precio||> D
)||D E
;||E F
cmd}} 
.}} 

Parameters}} "
.}}" #
AddWithValue}}# /
(}}/ 0
$str}}0 7
,}}7 8
obj}}9 <
.}}< =
Stock}}= B
)}}B C
;}}C D
cmd~~ 
.~~ 

Parameters~~ "
.~~" #
AddWithValue~~# /
(~~/ 0
$str~~0 8
,~~8 9
obj~~: =
.~~= >
Activo~~> D
)~~D E
;~~E F
cmd 
. 

Parameters "
." #
Add# &
(& '
$str' 2
,2 3
	SqlDbType4 =
.= >
Bit> A
)A B
.B C
	DirectionC L
=M N
ParameterDirectionO a
.a b
Outputb h
;h i
cmd
ÄÄ 
.
ÄÄ 

Parameters
ÄÄ "
.
ÄÄ" #
Add
ÄÄ# &
(
ÄÄ& '
$str
ÄÄ' 0
,
ÄÄ0 1
	SqlDbType
ÄÄ2 ;
.
ÄÄ; <
VarChar
ÄÄ< C
,
ÄÄC D
$num
ÄÄE H
)
ÄÄH I
.
ÄÄI J
	Direction
ÄÄJ S
=
ÄÄT U 
ParameterDirection
ÄÄV h
.
ÄÄh i
Output
ÄÄi o
;
ÄÄo p
cmd
ÅÅ 
.
ÅÅ 
CommandType
ÅÅ #
=
ÅÅ$ %
CommandType
ÅÅ& 1
.
ÅÅ1 2
StoredProcedure
ÅÅ2 A
;
ÅÅA B
	oconexion
ÉÉ 
.
ÉÉ 
Open
ÉÉ "
(
ÉÉ" #
)
ÉÉ# $
;
ÉÉ$ %
cmd
ÖÖ 
.
ÖÖ 
ExecuteNonQuery
ÖÖ '
(
ÖÖ' (
)
ÖÖ( )
;
ÖÖ) *
	resultado
ÜÜ 
=
ÜÜ 
Convert
ÜÜ  '
.
ÜÜ' (
	ToBoolean
ÜÜ( 1
(
ÜÜ1 2
cmd
ÜÜ2 5
.
ÜÜ5 6

Parameters
ÜÜ6 @
[
ÜÜ@ A
$str
ÜÜA L
]
ÜÜL M
.
ÜÜM N
Value
ÜÜN S
)
ÜÜS T
;
ÜÜT U
Mensaje
áá 
=
áá 
cmd
áá !
.
áá! "

Parameters
áá" ,
[
áá, -
$str
áá- 6
]
áá6 7
.
áá7 8
Value
áá8 =
.
áá= >
ToString
áá> F
(
ááF G
)
ááG H
;
ááH I
}
ää 
}
ãã 
catch
åå 
(
åå 
	Exception
åå 
ex
åå 
)
åå  
{
çç 
	resultado
éé 
=
éé 
false
éé !
;
éé! "
Mensaje
èè 
=
èè 
ex
èè 
.
èè 
Message
èè $
;
èè$ %
}
êê 
return
ëë 
	resultado
ëë 
;
ëë 
}
íí 	
public
ìì 
bool
ìì  
GuardarDatosImagen
ìì &
(
ìì& '
Reserva
ìì' .
obj
ìì/ 2
,
ìì2 3
out
ìì4 7
string
ìì8 >
Mensaje
ìì? F
)
ììF G
{
îî 	
bool
ïï 
	resultado
ïï 
=
ïï 
false
ïï "
;
ïï" #
Mensaje
ññ 
=
ññ 
string
ññ 
.
ññ 
Empty
ññ "
;
ññ" #
try
òò 
{
ôô 
using
öö 
(
öö 
SqlConnection
öö $
	oconexion
öö% .
=
öö/ 0
new
öö1 4
SqlConnection
öö5 B
(
ööB C
Conexion
ööC K
.
ööK L
cn
ööL N
)
ööN O
)
ööO P
{
úú 
string
ùù 
query
ùù  
=
ùù! "
$strùù# â
;ùùâ ä

SqlCommand
†† 
cmd
†† "
=
††# $
new
††% (

SqlCommand
††) 3
(
††3 4
query
††4 9
,
††9 :
	oconexion
††; D
)
††D E
;
††E F
cmd
°° 
.
°° 

Parameters
°° "
.
°°" #
AddWithValue
°°# /
(
°°/ 0
$str
°°0 =
,
°°= >
obj
°°? B
.
°°B C

RutaImagen
°°C M
)
°°M N
;
°°N O
cmd
¢¢ 
.
¢¢ 

Parameters
¢¢ "
.
¢¢" #
AddWithValue
¢¢# /
(
¢¢/ 0
$str
¢¢0 ?
,
¢¢? @
obj
¢¢A D
.
¢¢D E
NombreImagen
¢¢E Q
)
¢¢Q R
;
¢¢R S
cmd
££ 
.
££ 

Parameters
££ "
.
££" #
AddWithValue
££# /
(
££/ 0
$str
££0 ;
,
££; <
obj
££= @
.
££@ A
	IdReserva
££A J
)
££J K
;
££K L
	oconexion
•• 
.
•• 
Open
•• "
(
••" #
)
••# $
;
••$ %
if
ßß 
(
ßß 
cmd
ßß 
.
ßß 
ExecuteNonQuery
ßß +
(
ßß+ ,
)
ßß, -
>
ßß. /
$num
ßß0 1
)
ßß1 2
{
®® 
	resultado
©© !
=
©©" #
true
©©$ (
;
©©( )
}
™™ 
else
´´ 
{
¨¨ 
Mensaje
≠≠ 
=
≠≠  !
$str
≠≠" C
;
≠≠C D
}
ÆÆ 
}
∞∞ 
}
≤≤ 
catch
≥≥ 
(
≥≥ 
	Exception
≥≥ 
ex
≥≥ 
)
≥≥  
{
¥¥ 
	resultado
µµ 
=
µµ 
false
µµ !
;
µµ! "
Mensaje
∂∂ 
=
∂∂ 
ex
∂∂ 
.
∂∂ 
Message
∂∂ $
;
∂∂$ %
}
∑∑ 
return
∏∏ 
	resultado
∏∏ 
;
∏∏ 
}
ππ 	
public
ªª 
bool
ªª 
Eliminar
ªª 
(
ªª 
int
ªª  
id
ªª! #
,
ªª# $
out
ªª% (
string
ªª) /
Mensaje
ªª0 7
)
ªª7 8
{
ºº 	
bool
ΩΩ 
	resultado
ΩΩ 
=
ΩΩ 
false
ΩΩ "
;
ΩΩ" #
Mensaje
ææ 
=
ææ 
string
ææ 
.
ææ 
Empty
ææ "
;
ææ" #
try
øø 
{
¿¿ 
using
¡¡ 
(
¡¡ 
SqlConnection
¡¡ $
	oconexion
¡¡% .
=
¡¡/ 0
new
¡¡1 4
SqlConnection
¡¡5 B
(
¡¡B C
Conexion
¡¡C K
.
¡¡K L
cn
¡¡L N
)
¡¡N O
)
¡¡O P
{
¬¬ 

SqlCommand
ƒƒ 
cmd
ƒƒ "
=
ƒƒ# $
new
ƒƒ% (

SqlCommand
ƒƒ) 3
(
ƒƒ3 4
$str
ƒƒ4 H
,
ƒƒH I
	oconexion
ƒƒJ S
)
ƒƒS T
;
ƒƒT U
cmd
≈≈ 
.
≈≈ 

Parameters
≈≈ "
.
≈≈" #
AddWithValue
≈≈# /
(
≈≈/ 0
$str
≈≈0 ;
,
≈≈; <
id
≈≈= ?
)
≈≈? @
;
≈≈@ A
cmd
∆∆ 
.
∆∆ 

Parameters
∆∆ "
.
∆∆" #
Add
∆∆# &
(
∆∆& '
$str
∆∆' 2
,
∆∆2 3
	SqlDbType
∆∆4 =
.
∆∆= >
Bit
∆∆> A
)
∆∆A B
.
∆∆B C
	Direction
∆∆C L
=
∆∆M N 
ParameterDirection
∆∆O a
.
∆∆a b
Output
∆∆b h
;
∆∆h i
cmd
«« 
.
«« 

Parameters
«« "
.
««" #
Add
««# &
(
««& '
$str
««' 0
,
««0 1
	SqlDbType
««2 ;
.
««; <
VarChar
««< C
,
««C D
$num
««E H
)
««H I
.
««I J
	Direction
««J S
=
««T U 
ParameterDirection
««V h
.
««h i
Output
««i o
;
««o p
cmd
»» 
.
»» 
CommandType
»» #
=
»»$ %
CommandType
»»& 1
.
»»1 2
StoredProcedure
»»2 A
;
»»A B
	oconexion
   
.
   
Open
   "
(
  " #
)
  # $
;
  $ %
cmd
ÃÃ 
.
ÃÃ 
ExecuteNonQuery
ÃÃ '
(
ÃÃ' (
)
ÃÃ( )
;
ÃÃ) *
	resultado
ÕÕ 
=
ÕÕ 
Convert
ÕÕ  '
.
ÕÕ' (
	ToBoolean
ÕÕ( 1
(
ÕÕ1 2
cmd
ÕÕ2 5
.
ÕÕ5 6

Parameters
ÕÕ6 @
[
ÕÕ@ A
$str
ÕÕA L
]
ÕÕL M
.
ÕÕM N
Value
ÕÕN S
)
ÕÕS T
;
ÕÕT U
Mensaje
ŒŒ 
=
ŒŒ 
cmd
ŒŒ !
.
ŒŒ! "

Parameters
ŒŒ" ,
[
ŒŒ, -
$str
ŒŒ- 6
]
ŒŒ6 7
.
ŒŒ7 8
Value
ŒŒ8 =
.
ŒŒ= >
ToString
ŒŒ> F
(
ŒŒF G
)
ŒŒG H
;
ŒŒH I
}
—— 
}
““ 
catch
”” 
(
”” 
	Exception
”” 
ex
”” 
)
””  
{
‘‘ 
	resultado
’’ 
=
’’ 
false
’’ !
;
’’! "
Mensaje
÷÷ 
=
÷÷ 
ex
÷÷ 
.
÷÷ 
Message
÷÷ $
;
÷÷$ %
}
◊◊ 
return
ÿÿ 
	resultado
ÿÿ 
;
ÿÿ 
}
ŸŸ 	
}
⁄⁄ 
}€€ ËW
CC:\Users\51963\source\repos\YachayAgencia\CapaDatos\CD_Ubicacion.cs
	namespace 	
	CapaDatos
 
{ 
public 

class 
CD_Ubicacion 
{		 
public

 
List

 
<

 
Departamento

  
>

  !
ObtenerDepartamento

" 5
(

5 6
)

6 7
{ 	
List 
< 
Departamento 
> 
lista $
=% &
new' *
List+ /
</ 0
Departamento0 <
>< =
(= >
)> ?
;? @
try 
{ 
using 
( 
SqlConnection $
	oconexion% .
=/ 0
new1 4
SqlConnection5 B
(B C
ConexionC K
.K L
cnL N
)N O
)O P
{ 
string 
query  
=! "
$str# ?
;? @

SqlCommand 
cmd "
=# $
new% (

SqlCommand) 3
(3 4
query4 9
,9 :
	oconexion; D
)D E
;E F
cmd 
. 
CommandType #
=$ %
CommandType& 1
.1 2
Text2 6
;6 7
	oconexion 
. 
Open "
(" #
)# $
;$ %
using 
( 
SqlDataReader (
dr) +
=, -
cmd. 1
.1 2
ExecuteReader2 ?
(? @
)@ A
)A B
{ 
while 
( 
dr !
.! "
Read" &
(& '
)' (
)( )
{ 
lista !
.! "
Add" %
(% &
new! $
Departamento% 1
(1 2
)2 3
{! "
IdDepartamento% 3
=4 5
dr6 8
[8 9
$str9 I
]I J
.J K
ToStringK S
(S T
)T U
,U V
Descripcion% 0
=1 2
dr3 5
[5 6
$str6 C
]C D
.D E
ToStringE M
(M N
)N O
,O P
}  ! "
)  " #
;  # $
}!! 
}## 
}$$ 
}&& 
catch'' 
{(( 
lista)) 
=)) 
new)) 
List))  
<))  !
Departamento))! -
>))- .
()). /
)))/ 0
;))0 1
}** 
return,, 
lista,, 
;,, 
}-- 	
public00 
List00 
<00 
	Provincia00 
>00 
ObtenerProvincia00 /
(00/ 0
string000 6
iddepartamento007 E
)00E F
{11 	
List22 
<22 
	Provincia22 
>22 
lista22 !
=22" #
new22$ '
List22( ,
<22, -
	Provincia22- 6
>226 7
(227 8
)228 9
;229 :
try44 
{55 
using66 
(66 
SqlConnection66 $
	oconexion66% .
=66/ 0
new661 4
SqlConnection665 B
(66B C
Conexion66C K
.66K L
cn66L N
)66N O
)66O P
{77 
string88 
query88  
=88! "
$str88# b
;88b c

SqlCommand99 
cmd99 "
=99# $
new99% (

SqlCommand99) 3
(993 4
query994 9
,999 :
	oconexion99; D
)99D E
;99E F
cmd:: 
.:: 

Parameters:: "
.::" #
AddWithValue::# /
(::/ 0
$str::0 A
,::A B
iddepartamento::C Q
)::Q R
;::R S
cmd;; 
.;; 
CommandType;; #
=;;$ %
CommandType;;& 1
.;;1 2
Text;;2 6
;;;6 7
	oconexion== 
.== 
Open== "
(==" #
)==# $
;==$ %
using?? 
(?? 
SqlDataReader?? (
dr??) +
=??, -
cmd??. 1
.??1 2
ExecuteReader??2 ?
(??? @
)??@ A
)??A B
{@@ 
whileAA 
(AA 
drAA !
.AA! "
ReadAA" &
(AA& '
)AA' (
)AA( )
{BB 
listaCC !
.CC! "
AddCC" %
(CC% &
newDD! $
	ProvinciaDD% .
(DD. /
)DD/ 0
{EE! "
IdProvinciaFF% 0
=FF1 2
drFF3 5
[FF5 6
$strFF6 C
]FFC D
.FFD E
ToStringFFE M
(FFM N
)FFN O
,FFO P
DescripcionGG% 0
=GG1 2
drGG3 5
[GG5 6
$strGG6 C
]GGC D
.GGD E
ToStringGGE M
(GGM N
)GGN O
,GGO P
}JJ! "
)JJ" #
;JJ# $
}KK 
}LL 
}MM 
}OO 
catchPP 
{QQ 
listaRR 
=RR 
newRR 
ListRR  
<RR  !
	ProvinciaRR! *
>RR* +
(RR+ ,
)RR, -
;RR- .
}SS 
returnUU 
listaUU 
;UU 
}VV 	
publicXX 
ListXX 
<XX 
DistritoXX 
>XX 
ObtenerDistritoXX -
(XX- .
stringXX. 4
iddepartamentoXX5 C
,XXC D
stringXXE K
idprovinciaXXL W
)XXW X
{YY 	
ListZZ 
<ZZ 
DistritoZZ 
>ZZ 
listaZZ  
=ZZ! "
newZZ# &
ListZZ' +
<ZZ+ ,
DistritoZZ, 4
>ZZ4 5
(ZZ5 6
)ZZ6 7
;ZZ7 8
try\\ 
{]] 
using^^ 
(^^ 
SqlConnection^^ $
	oconexion^^% .
=^^/ 0
new^^1 4
SqlConnection^^5 B
(^^B C
Conexion^^C K
.^^K L
cn^^L N
)^^N O
)^^O P
{__ 
string`` 
query``  
=``! "
$str	``# Å
;
``Å Ç

SqlCommandaa 
cmdaa "
=aa# $
newaa% (

SqlCommandaa) 3
(aa3 4
queryaa4 9
,aa9 :
	oconexionaa; D
)aaD E
;aaE F
cmdbb 
.bb 

Parametersbb "
.bb" #
AddWithValuebb# /
(bb/ 0
$strbb0 >
,bb> ?
idprovinciabb@ K
)bbK L
;bbL M
cmdcc 
.cc 

Parameterscc "
.cc" #
AddWithValuecc# /
(cc/ 0
$strcc0 A
,ccA B
iddepartamentoccC Q
)ccQ R
;ccR S
cmddd 
.dd 
CommandTypedd #
=dd$ %
CommandTypedd& 1
.dd1 2
Textdd2 6
;dd6 7
	oconexionff 
.ff 
Openff "
(ff" #
)ff# $
;ff$ %
usinghh 
(hh 
SqlDataReaderhh (
drhh) +
=hh, -
cmdhh. 1
.hh1 2
ExecuteReaderhh2 ?
(hh? @
)hh@ A
)hhA B
{ii 
whilejj 
(jj 
drjj !
.jj! "
Readjj" &
(jj& '
)jj' (
)jj( )
{kk 
listall !
.ll! "
Addll" %
(ll% &
newmm! $
Distritomm% -
(mm- .
)mm. /
{nn! "

IdDistritooo% /
=oo0 1
droo2 4
[oo4 5
$stroo5 A
]ooA B
.ooB C
ToStringooC K
(ooK L
)ooL M
,ooM N
Descripcionpp% 0
=pp1 2
drpp3 5
[pp5 6
$strpp6 C
]ppC D
.ppD E
ToStringppE M
(ppM N
)ppN O
,ppO P
}rr! "
)rr" #
;rr# $
}ss 
}tt 
}uu 
}ww 
catchxx 
{yy 
listazz 
=zz 
newzz 
Listzz  
<zz  !
Distritozz! )
>zz) *
(zz* +
)zz+ ,
;zz, -
}{{ 
return}} 
lista}} 
;}} 
}~~ 	
public
ÄÄ 
List
ÄÄ 
<
ÄÄ 
Tour
ÄÄ 
>
ÄÄ 
ObtenerFechasTour
ÄÄ +
(
ÄÄ+ ,
)
ÄÄ, -
{
ÅÅ 	
List
ÇÇ 
<
ÇÇ 
Tour
ÇÇ 
>
ÇÇ 
lista
ÇÇ 
=
ÇÇ 
new
ÇÇ "
List
ÇÇ# '
<
ÇÇ' (
Tour
ÇÇ( ,
>
ÇÇ, -
(
ÇÇ- .
)
ÇÇ. /
;
ÇÇ/ 0
try
ÑÑ 
{
ÖÖ 
using
ÜÜ 
(
ÜÜ 
SqlConnection
ÜÜ $
	oconexion
ÜÜ% .
=
ÜÜ/ 0
new
ÜÜ1 4
SqlConnection
ÜÜ5 B
(
ÜÜB C
Conexion
ÜÜC K
.
ÜÜK L
cn
ÜÜL N
)
ÜÜN O
)
ÜÜO P
{
áá 
string
àà 
query
àà  
=
àà! "
$str
àà# 7
;
àà7 8

SqlCommand
ââ 
cmd
ââ "
=
ââ# $
new
ââ% (

SqlCommand
ââ) 3
(
ââ3 4
query
ââ4 9
,
ââ9 :
	oconexion
ââ; D
)
ââD E
;
ââE F
cmd
ää 
.
ää 
CommandType
ää #
=
ää$ %
CommandType
ää& 1
.
ää1 2
Text
ää2 6
;
ää6 7
	oconexion
ãã 
.
ãã 
Open
ãã "
(
ãã" #
)
ãã# $
;
ãã$ %
using
çç 
(
çç 
SqlDataReader
çç (
dr
çç) +
=
çç, -
cmd
çç. 1
.
çç1 2
ExecuteReader
çç2 ?
(
çç? @
)
çç@ A
)
ççA B
{
éé 
while
èè 
(
èè 
dr
èè !
.
èè! "
Read
èè" &
(
èè& '
)
èè' (
)
èè( )
{
êê 
lista
ëë !
.
ëë! "
Add
ëë" %
(
ëë% &
new
íí! $
Tour
íí% )
(
íí) *
)
íí* +
{
ìì! "
IdTour
îî% +
=
îî, -
dr
îî. 0
[
îî0 1
$str
îî1 9
]
îî9 :
.
îî: ;
ToString
îî; C
(
îîC D
)
îîD E
,
îîE F
	FechaTour
ïï% .
=
ïï/ 0
dr
ïï1 3
[
ïï3 4
$str
ïï4 ?
]
ïï? @
.
ïï@ A
ToString
ïïA I
(
ïïI J
)
ïïJ K
,
ïïK L
}
ññ! "
)
ññ" #
;
ññ# $
}
óó 
}
òò 
}
ôô 
}
õõ 
catch
úú 
{
ùù 
lista
ûû 
=
ûû 
new
ûû 
List
ûû  
<
ûû  !
Tour
ûû! %
>
ûû% &
(
ûû& '
)
ûû' (
;
ûû( )
}
üü 
return
°° 
lista
°° 
;
°° 
}
¢¢ 	
}
§§ 
}•• ¥î
BC:\Users\51963\source\repos\YachayAgencia\CapaDatos\CD_Usuarios.cs
	namespace 	
	CapaDatos
 
{ 
public		 

class		 
CD_Usuarios		 
{

 
public 
List 
< 
Usuario 
> 
Listar #
(# $
)$ %
{ 	
List 
< 
Usuario 
> 
lista 
=  !
new" %
List& *
<* +
Usuario+ 2
>2 3
(3 4
)4 5
;5 6
try 
{ 
using 
( 
SqlConnection $
	oconexion% .
=/ 0
new1 4
SqlConnection5 B
(B C
ConexionC K
.K L
cnL N
)N O
)O P
{ 
string 
query  
=! "
$str# y
;y z

SqlCommand 
cmd "
=# $
new% (

SqlCommand) 3
(3 4
query4 9
,9 :
	oconexion; D
)D E
;E F
cmd 
. 
CommandType #
=$ %
CommandType& 1
.1 2
Text2 6
;6 7
	oconexion 
. 
Open "
(" #
)# $
;$ %
using 
( 
SqlDataReader (
dr) +
=, -
cmd. 1
.1 2
ExecuteReader2 ?
(? @
)@ A
)A B
{ 
while 
( 
dr !
.! "
Read" &
(& '
)' (
)( )
{ 
lista !
.! "
Add" %
(% &
new! $
Usuario% ,
(, -
)- .
{! "
	IdUsuario% .
=/ 0
Convert1 8
.8 9
ToInt329 @
(@ A
drA C
[C D
$strD O
]O P
)P Q
,Q R
Nombres  % ,
=  - .
dr  / 1
[  1 2
$str  2 ;
]  ; <
.  < =
ToString  = E
(  E F
)  F G
,  G H
	Apellidos!!% .
=!!/ 0
dr!!1 3
[!!3 4
$str!!4 ?
]!!? @
.!!@ A
ToString!!A I
(!!I J
)!!J K
,!!K L
Correo""% +
="", -
dr"". 0
[""0 1
$str""1 9
]""9 :
."": ;
ToString""; C
(""C D
)""D E
,""E F
Clave##% *
=##+ ,
dr##- /
[##/ 0
$str##0 7
]##7 8
.##8 9
ToString##9 A
(##A B
)##B C
,##C D
Reestablecer$$% 1
=$$2 3
Convert$$4 ;
.$$; <
	ToBoolean$$< E
($$E F
dr$$F H
[$$H I
$str$$I W
]$$W X
)$$X Y
,$$Y Z
Activo%%% +
=%%, -
Convert%%. 5
.%%5 6
	ToBoolean%%6 ?
(%%? @
dr%%@ B
[%%B C
$str%%C K
]%%K L
)%%L M
}''! "
)((  !
;((! "
},, 
}// 
}00 
}33 
catch44 
{55 
lista66 
=66 
new66 
List66  
<66  !
Usuario66! (
>66( )
(66) *
)66* +
;66+ ,
}77 
return99 
lista99 
;99 
}:: 	
public>> 
int>> 
	Registrar>> 
(>> 
Usuario>> $
obj>>% (
,>>( )
out>>* -
string>>. 4
Mensaje>>5 <
)>>< =
{?? 	
int@@ 
idautogenerado@@ 
=@@  
$num@@! "
;@@" #
MensajeAA 
=AA 
stringAA 
.AA 
EmptyAA "
;AA" #
tryBB 
{CC 
usingDD 
(DD 
SqlConnectionDD $
	oconexionDD% .
=DD/ 0
newDD1 4
SqlConnectionDD5 B
(DDB C
ConexionDDC K
.DDK L
cnDDL N
)DDN O
)DDO P
{EE 

SqlCommandGG 
cmdGG "
=GG# $
newGG% (

SqlCommandGG) 3
(GG3 4
$strGG4 I
,GGI J
	oconexionGGK T
)GGT U
;GGU V
cmdHH 
.HH 

ParametersHH "
.HH" #
AddWithValueHH# /
(HH/ 0
$strHH0 9
,HH9 :
objHH; >
.HH> ?
NombresHH? F
)HHF G
;HHG H
cmdII 
.II 

ParametersII "
.II" #
AddWithValueII# /
(II/ 0
$strII0 ;
,II; <
objII= @
.II@ A
	ApellidosIIA J
)IIJ K
;IIK L
cmdJJ 
.JJ 

ParametersJJ "
.JJ" #
AddWithValueJJ# /
(JJ/ 0
$strJJ0 8
,JJ8 9
objJJ: =
.JJ= >
CorreoJJ> D
)JJD E
;JJE F
cmdKK 
.KK 

ParametersKK "
.KK" #
AddWithValueKK# /
(KK/ 0
$strKK0 7
,KK7 8
objKK9 <
.KK< =
ClaveKK= B
)KKB C
;KKC D
cmdLL 
.LL 

ParametersLL "
.LL" #
AddWithValueLL# /
(LL/ 0
$strLL0 8
,LL8 9
objLL: =
.LL= >
ActivoLL> D
)LLD E
;LLE F
cmdMM 
.MM 

ParametersMM "
.MM" #
AddMM# &
(MM& '
$strMM' 2
,MM2 3
	SqlDbTypeMM4 =
.MM= >
IntMM> A
)MMA B
.MMB C
	DirectionMMC L
=MMM N
ParameterDirectionMMO a
.MMa b
OutputMMb h
;MMh i
cmdNN 
.NN 

ParametersNN "
.NN" #
AddNN# &
(NN& '
$strNN' 0
,NN0 1
	SqlDbTypeNN2 ;
.NN; <
VarCharNN< C
,NNC D
$numNNE H
)NNH I
.NNI J
	DirectionNNJ S
=NNT U
ParameterDirectionNNV h
.NNh i
OutputNNi o
;NNo p
cmdOO 
.OO 
CommandTypeOO #
=OO$ %
CommandTypeOO& 1
.OO1 2
StoredProcedureOO2 A
;OOA B
	oconexionQQ 
.QQ 
OpenQQ "
(QQ" #
)QQ# $
;QQ$ %
cmdSS 
.SS 
ExecuteNonQuerySS '
(SS' (
)SS( )
;SS) *
idautogeneradoTT "
=TT# $
ConvertTT% ,
.TT, -
ToInt32TT- 4
(TT4 5
cmdTT5 8
.TT8 9

ParametersTT9 C
[TTC D
$strTTD O
]TTO P
.TTP Q
ValueTTQ V
)TTV W
;TTW X
MensajeUU 
=UU 
cmdUU !
.UU! "

ParametersUU" ,
[UU, -
$strUU- 6
]UU6 7
.UU7 8
ValueUU8 =
.UU= >
ToStringUU> F
(UUF G
)UUG H
;UUH I
}XX 
}YY 
catchZZ 
(ZZ 
	ExceptionZZ 
exZZ 
)ZZ  
{[[ 
idautogenerado\\ 
=\\  
$num\\! "
;\\" #
Mensaje]] 
=]] 
ex]] 
.]] 
Message]] $
;]]$ %
}^^ 
return__ 
idautogenerado__ !
;__! "
}`` 	
publicaa 
boolaa 
Editaraa 
(aa 
Usuarioaa "
objaa# &
,aa& '
outaa( +
stringaa, 2
Mensajeaa3 :
)aa: ;
{bb 	
boolcc 
	resultadocc 
=cc 
falsecc "
;cc" #
Mensajedd 
=dd 
stringdd 
.dd 
Emptydd "
;dd" #
tryee 
{ff 
usinggg 
(gg 
SqlConnectiongg $
	oconexiongg% .
=gg/ 0
newgg1 4
SqlConnectiongg5 B
(ggB C
ConexionggC K
.ggK L
cnggL N
)ggN O
)ggO P
{hh 

SqlCommandjj 
cmdjj "
=jj# $
newjj% (

SqlCommandjj) 3
(jj3 4
$strjj4 F
,jjF G
	oconexionjjH Q
)jjQ R
;jjR S
cmdkk 
.kk 

Parameterskk "
.kk" #
AddWithValuekk# /
(kk/ 0
$strkk0 ;
,kk; <
objkk= @
.kk@ A
	IdUsuariokkA J
)kkJ K
;kkK L
cmdll 
.ll 

Parametersll "
.ll" #
AddWithValuell# /
(ll/ 0
$strll0 9
,ll9 :
objll; >
.ll> ?
Nombresll? F
)llF G
;llG H
cmdmm 
.mm 

Parametersmm "
.mm" #
AddWithValuemm# /
(mm/ 0
$strmm0 ;
,mm; <
objmm= @
.mm@ A
	ApellidosmmA J
)mmJ K
;mmK L
cmdnn 
.nn 

Parametersnn "
.nn" #
AddWithValuenn# /
(nn/ 0
$strnn0 8
,nn8 9
objnn: =
.nn= >
Correonn> D
)nnD E
;nnE F
cmdoo 
.oo 

Parametersoo "
.oo" #
AddWithValueoo# /
(oo/ 0
$stroo0 8
,oo8 9
objoo: =
.oo= >
Activooo> D
)ooD E
;ooE F
cmdpp 
.pp 

Parameterspp "
.pp" #
Addpp# &
(pp& '
$strpp' 2
,pp2 3
	SqlDbTypepp4 =
.pp= >
Bitpp> A
)ppA B
.ppB C
	DirectionppC L
=ppM N
ParameterDirectionppO a
.ppa b
Outputppb h
;pph i
cmdqq 
.qq 

Parametersqq "
.qq" #
Addqq# &
(qq& '
$strqq' 0
,qq0 1
	SqlDbTypeqq2 ;
.qq; <
VarCharqq< C
,qqC D
$numqqE H
)qqH I
.qqI J
	DirectionqqJ S
=qqT U
ParameterDirectionqqV h
.qqh i
Outputqqi o
;qqo p
cmdrr 
.rr 
CommandTyperr #
=rr$ %
CommandTyperr& 1
.rr1 2
StoredProcedurerr2 A
;rrA B
	oconexiontt 
.tt 
Opentt "
(tt" #
)tt# $
;tt$ %
cmdvv 
.vv 
ExecuteNonQueryvv '
(vv' (
)vv( )
;vv) *
	resultadoww 
=ww 
Convertww  '
.ww' (
	ToBooleanww( 1
(ww1 2
cmdww2 5
.ww5 6

Parametersww6 @
[ww@ A
$strwwA L
]wwL M
.wwM N
ValuewwN S
)wwS T
;wwT U
Mensajexx 
=xx 
cmdxx !
.xx! "

Parametersxx" ,
[xx, -
$strxx- 6
]xx6 7
.xx7 8
Valuexx8 =
.xx= >
ToStringxx> F
(xxF G
)xxG H
;xxH I
}{{ 
}|| 
catch}} 
(}} 
	Exception}} 
ex}} 
)}}  
{~~ 
	resultado 
= 
false !
;! "
Mensaje
ÄÄ 
=
ÄÄ 
ex
ÄÄ 
.
ÄÄ 
Message
ÄÄ $
;
ÄÄ$ %
}
ÅÅ 
return
ÇÇ 
	resultado
ÇÇ 
;
ÇÇ 
}
ÉÉ 	
public
ÖÖ 
bool
ÖÖ 
Eliminar
ÖÖ 
(
ÖÖ 
int
ÖÖ  
id
ÖÖ! #
,
ÖÖ# $
out
ÖÖ% (
string
ÖÖ) /
Mensaje
ÖÖ0 7
)
ÖÖ7 8
{
ÜÜ 	
bool
áá 
	resultado
áá 
=
áá 
false
áá "
;
áá" #
Mensaje
àà 
=
àà 
string
àà 
.
àà 
Empty
àà "
;
àà" #
try
ââ 
{
ää 
using
ãã 
(
ãã 
SqlConnection
ãã $
	oconexion
ãã% .
=
ãã/ 0
new
ãã1 4
SqlConnection
ãã5 B
(
ããB C
Conexion
ããC K
.
ããK L
cn
ããL N
)
ããN O
)
ããO P
{
åå 

SqlCommand
çç 
cmd
çç "
=
çç# $
new
çç% (

SqlCommand
çç) 3
(
çç3 4
$str
çç4 d
,
ççd e
	oconexion
ççf o
)
çço p
;
ççp q
cmd
éé 
.
éé 

Parameters
éé "
.
éé" #
AddWithValue
éé# /
(
éé/ 0
$str
éé0 5
,
éé5 6
id
éé7 9
)
éé9 :
;
éé: ;
cmd
èè 
.
èè 
CommandType
èè #
=
èè$ %
CommandType
èè& 1
.
èè1 2
Text
èè2 6
;
èè6 7
	oconexion
êê 
.
êê 
Open
êê "
(
êê" #
)
êê# $
;
êê$ %
	resultado
ëë 
=
ëë 
cmd
ëë  #
.
ëë# $
ExecuteNonQuery
ëë$ 3
(
ëë3 4
)
ëë4 5
>
ëë6 7
$num
ëë8 9
?
ëë: ;
true
ëë< @
:
ëëA B
false
ëëC H
;
ëëH I
}
íí 
}
ìì 
catch
îî 
(
îî 
	Exception
îî 
ex
îî 
)
îî  
{
ïï 
	resultado
ññ 
=
ññ 
false
ññ !
;
ññ! "
Mensaje
óó 
=
óó 
ex
óó 
.
óó 
Message
óó $
;
óó$ %
}
òò 
return
ôô 
	resultado
ôô 
;
ôô 
}
öö 	
public
úú 
bool
úú 
CambiarClave
úú  
(
úú  !
int
úú! $
	idusuario
úú% .
,
úú. /
string
úú0 6

nuevaclave
úú7 A
,
úúA B
out
úúC F
string
úúG M
Mensaje
úúN U
)
úúU V
{
ùù 	
bool
ûû 
	resultado
ûû 
=
ûû 
false
ûû "
;
ûû" #
Mensaje
üü 
=
üü 
string
üü 
.
üü 
Empty
üü "
;
üü" #
try
†† 
{
°° 
using
¢¢ 
(
¢¢ 
SqlConnection
¢¢ $
	oconexion
¢¢% .
=
¢¢/ 0
new
¢¢1 4
SqlConnection
¢¢5 B
(
¢¢B C
Conexion
¢¢C K
.
¢¢K L
cn
¢¢L N
)
¢¢N O
)
¢¢O P
{
££ 

SqlCommand
§§ 
cmd
§§ "
=
§§# $
new
§§% (

SqlCommand
§§) 3
(
§§3 4
$str§§4 Ç
,§§Ç É
	oconexion§§Ñ ç
)§§ç é
;§§é è
cmd
•• 
.
•• 

Parameters
•• "
.
••" #
AddWithValue
••# /
(
••/ 0
$str
••0 5
,
••5 6
	idusuario
••7 @
)
••@ A
;
••A B
cmd
¶¶ 
.
¶¶ 

Parameters
¶¶ "
.
¶¶" #
AddWithValue
¶¶# /
(
¶¶/ 0
$str
¶¶0 =
,
¶¶= >

nuevaclave
¶¶? I
)
¶¶I J
;
¶¶J K
cmd
ßß 
.
ßß 
CommandType
ßß #
=
ßß$ %
CommandType
ßß& 1
.
ßß1 2
Text
ßß2 6
;
ßß6 7
	oconexion
®® 
.
®® 
Open
®® "
(
®®" #
)
®®# $
;
®®$ %
	resultado
©© 
=
©© 
cmd
©©  #
.
©©# $
ExecuteNonQuery
©©$ 3
(
©©3 4
)
©©4 5
>
©©6 7
$num
©©8 9
?
©©: ;
true
©©< @
:
©©A B
false
©©C H
;
©©H I
}
™™ 
}
´´ 
catch
¨¨ 
(
¨¨ 
	Exception
¨¨ 
ex
¨¨ 
)
¨¨  
{
≠≠ 
	resultado
ÆÆ 
=
ÆÆ 
false
ÆÆ !
;
ÆÆ! "
Mensaje
ØØ 
=
ØØ 
ex
ØØ 
.
ØØ 
Message
ØØ $
;
ØØ$ %
}
∞∞ 
return
±± 
	resultado
±± 
;
±± 
}
≤≤ 	
public
¥¥ 
bool
¥¥ 
ReestablecerClave
¥¥ %
(
¥¥% &
int
¥¥& )
	idusuario
¥¥* 3
,
¥¥3 4
string
¥¥5 ;
clave
¥¥< A
,
¥¥A B
out
¥¥C F
string
¥¥G M
Mensaje
¥¥N U
)
¥¥U V
{
µµ 	
bool
∂∂ 
	resultado
∂∂ 
=
∂∂ 
false
∂∂ "
;
∂∂" #
Mensaje
∑∑ 
=
∑∑ 
string
∑∑ 
.
∑∑ 
Empty
∑∑ "
;
∑∑" #
try
∏∏ 
{
ππ 
using
∫∫ 
(
∫∫ 
SqlConnection
∫∫ $
	oconexion
∫∫% .
=
∫∫/ 0
new
∫∫1 4
SqlConnection
∫∫5 B
(
∫∫B C
Conexion
∫∫C K
.
∫∫K L
cn
∫∫L N
)
∫∫N O
)
∫∫O P
{
ªª 

SqlCommand
ºº 
cmd
ºº "
=
ºº# $
new
ºº% (

SqlCommand
ºº) 3
(
ºº3 4
$str
ºº4 }
,
ºº} ~
	oconexionºº à
)ººà â
;ººâ ä
cmd
ΩΩ 
.
ΩΩ 

Parameters
ΩΩ "
.
ΩΩ" #
AddWithValue
ΩΩ# /
(
ΩΩ/ 0
$str
ΩΩ0 5
,
ΩΩ5 6
	idusuario
ΩΩ7 @
)
ΩΩ@ A
;
ΩΩA B
cmd
ææ 
.
ææ 

Parameters
ææ "
.
ææ" #
AddWithValue
ææ# /
(
ææ/ 0
$str
ææ0 8
,
ææ8 9
clave
ææ: ?
)
ææ? @
;
ææ@ A
cmd
øø 
.
øø 
CommandType
øø #
=
øø$ %
CommandType
øø& 1
.
øø1 2
Text
øø2 6
;
øø6 7
	oconexion
¿¿ 
.
¿¿ 
Open
¿¿ "
(
¿¿" #
)
¿¿# $
;
¿¿$ %
	resultado
¡¡ 
=
¡¡ 
cmd
¡¡  #
.
¡¡# $
ExecuteNonQuery
¡¡$ 3
(
¡¡3 4
)
¡¡4 5
>
¡¡6 7
$num
¡¡8 9
?
¡¡: ;
true
¡¡< @
:
¡¡A B
false
¡¡C H
;
¡¡H I
}
¬¬ 
}
√√ 
catch
ƒƒ 
(
ƒƒ 
	Exception
ƒƒ 
ex
ƒƒ 
)
ƒƒ  
{
≈≈ 
	resultado
∆∆ 
=
∆∆ 
false
∆∆ !
;
∆∆! "
Mensaje
«« 
=
«« 
ex
«« 
.
«« 
Message
«« $
;
««$ %
}
»» 
return
…… 
	resultado
…… 
;
…… 
}
   	
}
—— 
}““ Ä)
?C:\Users\51963\source\repos\YachayAgencia\CapaDatos\CD_Venta.cs
	namespace		 	
	CapaDatos		
 
{

 
public 

class 
CD_Venta 
{ 
public 
bool 
	Registrar 
( 
Venta #
obj$ '
,' (
	DataTable) 2
DetalleVenta3 ?
,? @
outA D
stringE K
MensajeL S
)S T
{ 	
bool 
	respuesta 
= 
false "
;" #
Mensaje 
= 
string 
. 
Empty "
;" #
try 
{ 
using 
( 
SqlConnection $
	oconexion% .
=/ 0
new1 4
SqlConnection5 B
(B C
ConexionC K
.K L
cnL N
)N O
)O P
{ 

SqlCommand 
cmd "
=# $
new% (

SqlCommand) 3
(3 4
$str4 H
,H I
	oconexionJ S
)S T
;T U
cmd 
. 

Parameters "
." #
AddWithValue# /
(/ 0
$str0 ;
,; <
obj= @
.@ A
	IdClienteA J
)J K
;K L
cmd 
. 

Parameters "
." #
AddWithValue# /
(/ 0
$str0 >
,> ?
obj@ C
.C D
TotalReservaD P
)P Q
;Q R
cmd 
. 

Parameters "
." #
AddWithValue# /
(/ 0
$str0 <
,< =
obj> A
.A B

MontoTotalB L
)L M
;M N
cmd 
. 

Parameters "
." #
AddWithValue# /
(/ 0
$str0 :
,: ;
obj< ?
.? @
Contacto@ H
)H I
;I J
cmd 
. 

Parameters "
." #
AddWithValue# /
(/ 0
$str0 <
,< =
obj> A
.A B

IdDistritoB L
)L M
;M N
cmd 
. 

Parameters "
." #
AddWithValue# /
(/ 0
$str0 :
,: ;
obj< ?
.? @
Telefono@ H
)H I
;I J
cmd 
. 

Parameters "
." #
AddWithValue# /
(/ 0
$str0 ;
,; <
obj= @
.@ A
	DireccionA J
)J K
;K L
cmd 
. 

Parameters "
." #
AddWithValue# /
(/ 0
$str0 ?
,? @
objA D
.D E
IdTransaccionE R
)R S
;S T
cmd 
. 

Parameters "
." #
AddWithValue# /
(/ 0
$str0 >
,> ?
DetalleVenta? K
)K L
;L M
cmd   
.   

Parameters   "
.  " #
Add  # &
(  & '
$str  ' 2
,  2 3
	SqlDbType  4 =
.  = >
Bit  > A
)  A B
.  B C
	Direction  C L
=  M N
ParameterDirection  O a
.  a b
Output  b h
;  h i
cmd!! 
.!! 

Parameters!! "
.!!" #
Add!!# &
(!!& '
$str!!' 0
,!!0 1
	SqlDbType!!2 ;
.!!; <
VarChar!!< C
,!!C D
$num!!E H
)!!H I
.!!I J
	Direction!!J S
=!!T U
ParameterDirection!!V h
.!!h i
Output!!i o
;!!o p
cmd"" 
."" 
CommandType"" #
=""$ %
CommandType""& 1
.""1 2
StoredProcedure""2 A
;""A B
	oconexion$$ 
.$$ 
Open$$ "
($$" #
)$$# $
;$$$ %
cmd&& 
.&& 
ExecuteNonQuery&& '
(&&' (
)&&( )
;&&) *
	respuesta(( 
=(( 
Convert((  '
.((' (
	ToBoolean((( 1
(((1 2
cmd((2 5
.((5 6

Parameters((6 @
[((@ A
$str((A L
]((L M
.((M N
Value((N S
)((S T
;((T U
Mensaje)) 
=)) 
cmd)) !
.))! "

Parameters))" ,
[)), -
$str))- 6
]))6 7
.))7 8
Value))8 =
.))= >
ToString))> F
())F G
)))G H
;))H I
},, 
}-- 
catch.. 
(.. 
	Exception.. 
ex.. 
)..  
{// 
	respuesta00 
=00 
false00 !
;00! "
Mensaje11 
=11 
ex11 
.11 
Message11 $
;11$ %
}22 
return33 
	respuesta33 
;33 
}44 	
}66 
}77 è
?C:\Users\51963\source\repos\YachayAgencia\CapaDatos\Conexion.cs
	namespace 	
	CapaDatos
 
{ 
public 

class 
Conexion 
{ 
public 
static 
string 
cn 
=  ! 
ConfigurationManager" 6
.6 7
ConnectionStrings7 H
[H I
$strI Q
]Q R
.R S
ToStringS [
([ \
)\ ]
;] ^
} 
}		 ˘
NC:\Users\51963\source\repos\YachayAgencia\CapaDatos\Properties\AssemblyInfo.cs
[ 
assembly 	
:	 

AssemblyTitle 
( 
$str $
)$ %
]% &
[ 
assembly 	
:	 

AssemblyDescription 
( 
$str !
)! "
]" #
[		 
assembly		 	
:			 
!
AssemblyConfiguration		  
(		  !
$str		! #
)		# $
]		$ %
[

 
assembly

 	
:

	 

AssemblyCompany

 
(

 
$str

 
)

 
]

 
[ 
assembly 	
:	 

AssemblyProduct 
( 
$str &
)& '
]' (
[ 
assembly 	
:	 

AssemblyCopyright 
( 
$str 0
)0 1
]1 2
[ 
assembly 	
:	 

AssemblyTrademark 
( 
$str 
)  
]  !
[ 
assembly 	
:	 

AssemblyCulture 
( 
$str 
) 
] 
[ 
assembly 	
:	 


ComVisible 
( 
false 
) 
] 
[ 
assembly 	
:	 

Guid 
( 
$str 6
)6 7
]7 8
["" 
assembly"" 	
:""	 

AssemblyVersion"" 
("" 
$str"" $
)""$ %
]""% &
[## 
assembly## 	
:##	 

AssemblyFileVersion## 
(## 
$str## (
)##( )
]##) *üÉ
EC:\Users\51963\source\repos\YachayAgencia\CapaDatos\CD_Proveedores.cs
	namespace 	
	CapaDatos
 
{		 
public

 

class

 
CD_Proveedores

 
{ 
public 
List 
< 
	Proveedor 
> 
Listar %
(% &
)& '
{ 	
List 
< 
	Proveedor 
> 
lista !
=" #
new$ '
List( ,
<, -
	Proveedor- 6
>6 7
(7 8
)8 9
;9 :
try 
{ 
using 
( 
SqlConnection $
	oconexion% .
=/ 0
new1 4
SqlConnection5 B
(B C
ConexionC K
.K L
cnL N
)N O
)O P
{ 
string 
query  
=! "
$str# ;
;; <

SqlCommand 
cmd "
=# $
new% (

SqlCommand) 3
(3 4
query4 9
,9 :
	oconexion; D
)D E
;E F
cmd 
. 
CommandType #
=$ %
CommandType& 1
.1 2
Text2 6
;6 7
	oconexion 
. 
Open "
(" #
)# $
;$ %
using 
( 
SqlDataReader (
dr) +
=, -
cmd. 1
.1 2
ExecuteReader2 ?
(? @
)@ A
)A B
{ 
while 
( 
dr !
.! "
Read" &
(& '
)' (
)( )
{ 
lista !
.! "
Add" %
(% &
new! $
	Proveedor% .
(. /
)/ 0
{! "
IdProveedor  % 0
=  1 2
Convert  3 :
.  : ;
ToInt32  ; B
(  B C
dr  C E
[  E F
$str  F S
]  S T
)  T U
,  U V
Nombre!!% +
=!!, -
dr!!. 0
[!!0 1
$str!!1 9
]!!9 :
.!!: ;
ToString!!; C
(!!C D
)!!D E
,!!E F
RUC""% (
="") *
Convert""+ 2
.""2 3
ToInt32""3 :
("": ;
dr""; =
[""= >
$str""> C
]""C D
)""D E
,""E F
RepresentanteLegal##% 7
=##8 9
dr##: <
[##< =
$str##= Q
]##Q R
.##R S
ToString##S [
(##[ \
)##\ ]
,##] ^
	Direccion$$% .
=$$/ 0
dr$$1 3
[$$3 4
$str$$4 ?
]$$? @
.$$@ A
ToString$$A I
($$I J
)$$J K
,$$K L
Ciudad%%% +
=%%, -
dr%%. 0
[%%0 1
$str%%1 9
]%%9 :
.%%: ;
ToString%%; C
(%%C D
)%%D E
,%%E F
Telefono&&% -
=&&. /
Convert&&0 7
.&&7 8
ToInt32&&8 ?
(&&? @
dr&&@ B
[&&B C
$str&&C M
]&&M N
)&&N O
,&&O P
Correocontacto''% 3
=''4 5
dr''6 8
[''8 9
$str''9 I
]''I J
.''J K
ToString''K S
(''S T
)''T U
,''U V
TipoServicio((% 1
=((2 3
dr((4 6
[((6 7
$str((7 E
]((E F
.((F G
ToString((G O
(((O P
)((P Q
,((Q R
Activo))% +
=)), -
Convert)). 5
.))5 6
	ToBoolean))6 ?
())? @
dr))@ B
[))B C
$str))C K
]))K L
)))L M
}**! "
)..  !
;..! "
}11 
}44 
}55 
}88 
catch99 
{:: 
lista;; 
=;; 
new;; 
List;;  
<;;  !
	Proveedor;;! *
>;;* +
(;;+ ,
);;, -
;;;- .
}<< 
return>> 
lista>> 
;>> 
}?? 	
publicBB 
intBB 
	RegistrarBB 
(BB 
	ProveedorBB &
objBB' *
,BB* +
outBB, /
stringBB0 6
MensajeBB7 >
)BB> ?
{CC 	
intDD 
idautogeneradoDD 
=DD  
$numDD! "
;DD" #
MensajeEE 
=EE 
stringEE 
.EE 
EmptyEE "
;EE" #
tryFF 
{GG 
usingHH 
(HH 
SqlConnectionHH $
	oconexionHH% .
=HH/ 0
newHH1 4
SqlConnectionHH5 B
(HHB C
ConexionHHC K
.HHK L
cnHHL N
)HHN O
)HHO P
{II 

SqlCommandKK 
cmdKK "
=KK# $
newKK% (

SqlCommandKK) 3
(KK3 4
$strKK4 K
,KKK L
	oconexionKKM V
)KKV W
;KKW X
cmdLL 
.LL 

ParametersLL "
.LL" #
AddWithValueLL# /
(LL/ 0
$strLL0 8
,LL8 9
objLL: =
.LL= >
NombreLL> D
)LLD E
;LLE F
cmdMM 
.MM 

ParametersMM "
.MM" #
AddWithValueMM# /
(MM/ 0
$strMM0 5
,MM5 6
objMM7 :
.MM: ;
RUCMM; >
)MM> ?
;MM? @
cmdNN 
.NN 

ParametersNN "
.NN" #
AddWithValueNN# /
(NN/ 0
$strNN0 D
,NND E
objNNF I
.NNI J
RepresentanteLegalNNJ \
)NN\ ]
;NN] ^
cmdOO 
.OO 

ParametersOO "
.OO" #
AddWithValueOO# /
(OO/ 0
$strOO0 ;
,OO; <
objOO= @
.OO@ A
	DireccionOOA J
)OOJ K
;OOK L
cmdPP 
.PP 

ParametersPP "
.PP" #
AddWithValuePP# /
(PP/ 0
$strPP0 8
,PP8 9
objPP: =
.PP= >
CiudadPP> D
)PPD E
;PPE F
cmdQQ 
.QQ 

ParametersQQ "
.QQ" #
AddWithValueQQ# /
(QQ/ 0
$strQQ0 :
,QQ: ;
objQQ< ?
.QQ? @
TelefonoQQ@ H
)QQH I
;QQI J
cmdRR 
.RR 

ParametersRR "
.RR" #
AddWithValueRR# /
(RR/ 0
$strRR0 @
,RR@ A
objRRB E
.RRE F
CorreocontactoRRF T
)RRT U
;RRU V
cmdSS 
.SS 

ParametersSS "
.SS" #
AddWithValueSS# /
(SS/ 0
$strSS0 >
,SS> ?
objSS@ C
.SSC D
TipoServicioSSD P
)SSP Q
;SSQ R
cmdTT 
.TT 

ParametersTT "
.TT" #
AddWithValueTT# /
(TT/ 0
$strTT0 8
,TT8 9
objTT: =
.TT= >
ActivoTT> D
)TTD E
;TTE F
cmdUU 
.UU 

ParametersUU "
.UU" #
AddUU# &
(UU& '
$strUU' 2
,UU2 3
	SqlDbTypeUU4 =
.UU= >
IntUU> A
)UUA B
.UUB C
	DirectionUUC L
=UUM N
ParameterDirectionUUO a
.UUa b
OutputUUb h
;UUh i
cmdVV 
.VV 

ParametersVV "
.VV" #
AddVV# &
(VV& '
$strVV' 0
,VV0 1
	SqlDbTypeVV2 ;
.VV; <
VarCharVV< C
,VVC D
$numVVE H
)VVH I
.VVI J
	DirectionVVJ S
=VVT U
ParameterDirectionVVV h
.VVh i
OutputVVi o
;VVo p
cmdWW 
.WW 
CommandTypeWW #
=WW$ %
CommandTypeWW& 1
.WW1 2
StoredProcedureWW2 A
;WWA B
	oconexionYY 
.YY 
OpenYY "
(YY" #
)YY# $
;YY$ %
cmd[[ 
.[[ 
ExecuteNonQuery[[ '
([[' (
)[[( )
;[[) *
idautogenerado\\ "
=\\# $
Convert\\% ,
.\\, -
ToInt32\\- 4
(\\4 5
cmd\\5 8
.\\8 9

Parameters\\9 C
[\\C D
$str\\D O
]\\O P
.\\P Q
Value\\Q V
)\\V W
;\\W X
Mensaje]] 
=]] 
cmd]] !
.]]! "

Parameters]]" ,
[]], -
$str]]- 6
]]]6 7
.]]7 8
Value]]8 =
.]]= >
ToString]]> F
(]]F G
)]]G H
;]]H I
}`` 
}aa 
catchbb 
(bb 
	Exceptionbb 
exbb 
)bb  
{cc 
idautogeneradodd 
=dd  
$numdd! "
;dd" #
Mensajeee 
=ee 
exee 
.ee 
Messageee $
;ee$ %
}ff 
returngg 
idautogeneradogg !
;gg! "
}hh 	
publicii 
boolii 
Editarii 
(ii 
	Proveedorii $
objii% (
,ii( )
outii* -
stringii. 4
Mensajeii5 <
)ii< =
{jj 	
boolkk 
	resultadokk 
=kk 
falsekk "
;kk" #
Mensajell 
=ll 
stringll 
.ll 
Emptyll "
;ll" #
trymm 
{nn 
usingoo 
(oo 
SqlConnectionoo $
	oconexionoo% .
=oo/ 0
newoo1 4
SqlConnectionoo5 B
(ooB C
ConexionooC K
.ooK L
cnooL N
)ooN O
)ooO P
{pp 

SqlCommandrr 
cmdrr "
=rr# $
newrr% (

SqlCommandrr) 3
(rr3 4
$strrr4 H
,rrH I
	oconexionrrJ S
)rrS T
;rrT U
cmdss 
.ss 

Parametersss "
.ss" #
AddWithValuess# /
(ss/ 0
$strss0 =
,ss= >
objss? B
.ssB C
IdProveedorssC N
)ssN O
;ssO P
cmdtt 
.tt 

Parameterstt "
.tt" #
AddWithValuett# /
(tt/ 0
$strtt0 8
,tt8 9
objtt: =
.tt= >
Nombrett> D
)ttD E
;ttE F
cmduu 
.uu 

Parametersuu "
.uu" #
AddWithValueuu# /
(uu/ 0
$struu0 5
,uu5 6
objuu7 :
.uu: ;
RUCuu; >
)uu> ?
;uu? @
cmdvv 
.vv 

Parametersvv "
.vv" #
AddWithValuevv# /
(vv/ 0
$strvv0 D
,vvD E
objvvF I
.vvI J
RepresentanteLegalvvJ \
)vv\ ]
;vv] ^
cmdww 
.ww 

Parametersww "
.ww" #
AddWithValueww# /
(ww/ 0
$strww0 ;
,ww; <
objww= @
.ww@ A
	DireccionwwA J
)wwJ K
;wwK L
cmdxx 
.xx 

Parametersxx "
.xx" #
AddWithValuexx# /
(xx/ 0
$strxx0 8
,xx8 9
objxx: =
.xx= >
Ciudadxx> D
)xxD E
;xxE F
cmdyy 
.yy 

Parametersyy "
.yy" #
AddWithValueyy# /
(yy/ 0
$stryy0 @
,yy@ A
objyyB E
.yyE F
CorreocontactoyyF T
)yyT U
;yyU V
cmdzz 
.zz 

Parameterszz "
.zz" #
AddWithValuezz# /
(zz/ 0
$strzz0 :
,zz: ;
objzz< ?
.zz? @
Telefonozz@ H
)zzH I
;zzI J
cmd{{ 
.{{ 

Parameters{{ "
.{{" #
AddWithValue{{# /
({{/ 0
$str{{0 >
,{{> ?
obj{{@ C
.{{C D
TipoServicio{{D P
){{P Q
;{{Q R
cmd|| 
.|| 

Parameters|| "
.||" #
AddWithValue||# /
(||/ 0
$str||0 8
,||8 9
obj||: =
.||= >
Activo||> D
)||D E
;||E F
cmd}} 
.}} 

Parameters}} "
.}}" #
Add}}# &
(}}& '
$str}}' 2
,}}2 3
	SqlDbType}}4 =
.}}= >
Bit}}> A
)}}A B
.}}B C
	Direction}}C L
=}}M N
ParameterDirection}}O a
.}}a b
Output}}b h
;}}h i
cmd~~ 
.~~ 

Parameters~~ "
.~~" #
Add~~# &
(~~& '
$str~~' 0
,~~0 1
	SqlDbType~~2 ;
.~~; <
VarChar~~< C
,~~C D
$num~~E H
)~~H I
.~~I J
	Direction~~J S
=~~T U
ParameterDirection~~V h
.~~h i
Output~~i o
;~~o p
cmd 
. 
CommandType #
=$ %
CommandType& 1
.1 2
StoredProcedure2 A
;A B
	oconexion
ÅÅ 
.
ÅÅ 
Open
ÅÅ "
(
ÅÅ" #
)
ÅÅ# $
;
ÅÅ$ %
cmd
ÉÉ 
.
ÉÉ 
ExecuteNonQuery
ÉÉ '
(
ÉÉ' (
)
ÉÉ( )
;
ÉÉ) *
	resultado
ÑÑ 
=
ÑÑ 
Convert
ÑÑ  '
.
ÑÑ' (
	ToBoolean
ÑÑ( 1
(
ÑÑ1 2
cmd
ÑÑ2 5
.
ÑÑ5 6

Parameters
ÑÑ6 @
[
ÑÑ@ A
$str
ÑÑA L
]
ÑÑL M
.
ÑÑM N
Value
ÑÑN S
)
ÑÑS T
;
ÑÑT U
Mensaje
ÖÖ 
=
ÖÖ 
cmd
ÖÖ !
.
ÖÖ! "

Parameters
ÖÖ" ,
[
ÖÖ, -
$str
ÖÖ- 6
]
ÖÖ6 7
.
ÖÖ7 8
Value
ÖÖ8 =
.
ÖÖ= >
ToString
ÖÖ> F
(
ÖÖF G
)
ÖÖG H
;
ÖÖH I
}
àà 
}
ââ 
catch
ää 
(
ää 
	Exception
ää 
ex
ää 
)
ää  
{
ãã 
	resultado
åå 
=
åå 
false
åå !
;
åå! "
Mensaje
çç 
=
çç 
ex
çç 
.
çç 
Message
çç $
;
çç$ %
}
éé 
return
èè 
	resultado
èè 
;
èè 
}
êê 	
public
íí 
bool
íí 
Eliminar
íí 
(
íí 
int
íí  
id
íí! #
,
íí# $
out
íí% (
string
íí) /
Mensaje
íí0 7
)
íí7 8
{
ìì 	
bool
îî 
	resultado
îî 
=
îî 
false
îî "
;
îî" #
Mensaje
ïï 
=
ïï 
string
ïï 
.
ïï 
Empty
ïï "
;
ïï" #
try
ññ 
{
óó 
using
òò 
(
òò 
SqlConnection
òò $
	oconexion
òò% .
=
òò/ 0
new
òò1 4
SqlConnection
òò5 B
(
òòB C
Conexion
òòC K
.
òòK L
cn
òòL N
)
òòN O
)
òòO P
{
ôô 

SqlCommand
öö 
cmd
öö "
=
öö# $
new
öö% (

SqlCommand
öö) 3
(
öö3 4
$str
öö4 h
,
ööh i
	oconexion
ööj s
)
öös t
;
ööt u
cmd
õõ 
.
õõ 

Parameters
õõ "
.
õõ" #
AddWithValue
õõ# /
(
õõ/ 0
$str
õõ0 5
,
õõ5 6
id
õõ7 9
)
õõ9 :
;
õõ: ;
cmd
úú 
.
úú 
CommandType
úú #
=
úú$ %
CommandType
úú& 1
.
úú1 2
Text
úú2 6
;
úú6 7
	oconexion
ùù 
.
ùù 
Open
ùù "
(
ùù" #
)
ùù# $
;
ùù$ %
	resultado
ûû 
=
ûû 
cmd
ûû  #
.
ûû# $
ExecuteNonQuery
ûû$ 3
(
ûû3 4
)
ûû4 5
>
ûû6 7
$num
ûû8 9
?
ûû: ;
true
ûû< @
:
ûûA B
false
ûûC H
;
ûûH I
}
üü 
}
†† 
catch
°° 
(
°° 
	Exception
°° 
ex
°° 
)
°°  
{
¢¢ 
	resultado
££ 
=
££ 
false
££ !
;
££! "
Mensaje
§§ 
=
§§ 
ex
§§ 
.
§§ 
Message
§§ $
;
§§$ %
}
•• 
return
¶¶ 
	resultado
¶¶ 
;
¶¶ 
}
ßß 	
}
©© 
}¨¨ 